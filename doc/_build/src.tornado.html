

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>tornado Package &mdash; open_edx_class_export 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="open_edx_class_export 0.2 documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">open_edx_class_export 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tornado-package">
<h1>tornado Package<a class="headerlink" href="#tornado-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2><tt class="xref py py-mod docutils literal"><span class="pre">tornado</span></tt> Package<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-src.tornado"></span><p>The Tornado web server and tools.</p>
</div>
<div class="section" id="module-src.tornado.auth">
<span id="auth-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">auth</span></tt> Module<a class="headerlink" href="#module-src.tornado.auth" title="Permalink to this headline">¶</a></h2>
<p>Implementations of various third-party authentication schemes.</p>
<p>All the classes in this file are class Mixins designed to be used with
web.py RequestHandler classes. The primary methods for each service are
authenticate_redirect(), authorize_redirect(), and get_authenticated_user().
The former should be called to redirect the user to, e.g., the OpenID
authentication page on the third party service, and the latter should
be called upon return to get the user data from the data returned by
the third party service.</p>
<p>They all take slightly different arguments due to the fact all these
services implement authentication and authorization slightly differently.
See the individual service classes below for complete documentation.</p>
<p>Example usage for Google OpenID:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GoogleHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span> <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">GoogleMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument</span><span class="p">(</span><span class="s">&quot;openid.mode&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_authenticated_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_auth</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authenticate_redirect</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s">&quot;Google auth failed&quot;</span><span class="p">)</span>
        <span class="c"># Save the user with, e.g., set_secure_cookie()</span>
</pre></div>
</div>
<dl class="class">
<dt id="src.tornado.auth.FacebookGraphMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">FacebookGraphMixin</tt><a class="headerlink" href="#src.tornado.auth.FacebookGraphMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.auth.OAuth2Mixin" title="src.tornado.auth.OAuth2Mixin"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.auth.OAuth2Mixin</span></tt></a></p>
<p>Facebook authentication using the new Graph API and OAuth2.</p>
<dl class="method">
<dt id="src.tornado.auth.FacebookGraphMixin.facebook_request">
<tt class="descname">facebook_request</tt><big>(</big><em>path</em>, <em>callback</em>, <em>access_token=None</em>, <em>post_args=None</em>, <em>**args</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FacebookGraphMixin.facebook_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the given relative API path, e.g., &#8220;/btaylor/picture&#8221;</p>
<p>If the request is a POST, post_args should be provided. Query
string arguments should be given as keyword arguments.</p>
<p>An introduction to the Facebook Graph API can be found at
<a class="reference external" href="http://developers.facebook.com/docs/api">http://developers.facebook.com/docs/api</a></p>
<p>Many methods require an OAuth access token which you can obtain
through authorize_redirect() and get_authenticated_user(). The
user returned through that process includes an &#8216;access_token&#8217;
attribute that can be used to make authenticated requests via
this method. Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                  <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">FacebookGraphMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.authenticated</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">facebook_request</span><span class="p">(</span>
            <span class="s">&quot;/me/feed&quot;</span><span class="p">,</span>
            <span class="n">post_args</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;message&quot;</span><span class="p">:</span> <span class="s">&quot;I am posting from my Tornado application!&quot;</span><span class="p">},</span>
            <span class="n">access_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_user</span><span class="p">[</span><span class="s">&quot;access_token&quot;</span><span class="p">],</span>
            <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_post</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_on_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_entry</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">new_entry</span><span class="p">:</span>
            <span class="c"># Call failed; perhaps missing permission?</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finish</span><span class="p">(</span><span class="s">&quot;Posted a message!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.FacebookGraphMixin.get_authenticated_user">
<tt class="descname">get_authenticated_user</tt><big>(</big><em>redirect_uri</em>, <em>client_id</em>, <em>client_secret</em>, <em>code</em>, <em>callback</em>, <em>extra_fields=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FacebookGraphMixin.get_authenticated_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles the login for the Facebook user, returning a user object.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">FacebookGraphLoginHandler</span><span class="p">(</span><span class="n">LoginHandler</span><span class="p">,</span> <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">FacebookGraphMixin</span><span class="p">):</span>
  <span class="nd">@tornado.web.asynchronous</span>
  <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
      <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument</span><span class="p">(</span><span class="s">&quot;code&quot;</span><span class="p">,</span> <span class="bp">False</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">get_authenticated_user</span><span class="p">(</span>
            <span class="n">redirect_uri</span><span class="o">=</span><span class="s">&#39;/auth/facebookgraph/&#39;</span><span class="p">,</span>
            <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s">&quot;facebook_api_key&quot;</span><span class="p">],</span>
            <span class="n">client_secret</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s">&quot;facebook_secret&quot;</span><span class="p">],</span>
            <span class="n">code</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_argument</span><span class="p">(</span><span class="s">&quot;code&quot;</span><span class="p">),</span>
            <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">_on_login</span><span class="p">))</span>
          <span class="k">return</span>
      <span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">(</span><span class="n">redirect_uri</span><span class="o">=</span><span class="s">&#39;/auth/facebookgraph/&#39;</span><span class="p">,</span>
                              <span class="n">client_id</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">settings</span><span class="p">[</span><span class="s">&quot;facebook_api_key&quot;</span><span class="p">],</span>
                              <span class="n">extra_params</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;scope&quot;</span><span class="p">:</span> <span class="s">&quot;read_stream,offline_access&quot;</span><span class="p">})</span>

  <span class="k">def</span> <span class="nf">_on_login</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.FacebookMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">FacebookMixin</tt><a class="headerlink" href="#src.tornado.auth.FacebookMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Facebook Connect authentication.</p>
<p>New applications should consider using <cite>FacebookGraphMixin</cite> below instead
of this class.</p>
<p>To authenticate with Facebook, register your application with
Facebook at <a class="reference external" href="http://www.facebook.com/developers/apps.php">http://www.facebook.com/developers/apps.php</a>. Then
copy your API Key and Application Secret to the application settings
&#8216;facebook_api_key&#8217; and &#8216;facebook_secret&#8217;.</p>
<p>When your application is set up, you can use this Mixin like this
to authenticate the user with Facebook:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">FacebookHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                      <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">FacebookMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument</span><span class="p">(</span><span class="s">&quot;session&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_authenticated_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_auth</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authenticate_redirect</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s">&quot;Facebook auth failed&quot;</span><span class="p">)</span>
        <span class="c"># Save the user using, e.g., set_secure_cookie()</span>
</pre></div>
</div>
<p>The user object returned by get_authenticated_user() includes the
attributes &#8216;facebook_uid&#8217; and &#8216;name&#8217; in addition to session attributes
like &#8216;session_key&#8217;. You should save the session key with the user; it is
required to make requests on behalf of the user later with
facebook_request().</p>
<dl class="method">
<dt id="src.tornado.auth.FacebookMixin.authenticate_redirect">
<tt class="descname">authenticate_redirect</tt><big>(</big><em>callback_uri=None</em>, <em>cancel_uri=None</em>, <em>extended_permissions=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FacebookMixin.authenticate_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticates/installs this app for the current user.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.FacebookMixin.authorize_redirect">
<tt class="descname">authorize_redirect</tt><big>(</big><em>extended_permissions</em>, <em>callback_uri=None</em>, <em>cancel_uri=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FacebookMixin.authorize_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirects to an authorization request for the given FB resource.</p>
<p>The available resource names are listed at
<a class="reference external" href="http://wiki.developers.facebook.com/index.php/Extended_permission">http://wiki.developers.facebook.com/index.php/Extended_permission</a>.
The most common resource types include:</p>
<ul class="simple">
<li>publish_stream</li>
<li>read_stream</li>
<li>email</li>
<li>sms</li>
</ul>
<p>extended_permissions can be a single permission name or a list of
names. To get the session secret and session key, call
get_authenticated_user() just as you would with
authenticate_redirect().</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.FacebookMixin.facebook_request">
<tt class="descname">facebook_request</tt><big>(</big><em>method</em>, <em>callback</em>, <em>**args</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FacebookMixin.facebook_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes a Facebook API REST request.</p>
<p>We automatically include the Facebook API key and signature, but
it is the callers responsibility to include &#8216;session_key&#8217; and any
other required arguments to the method.</p>
<p>The available Facebook methods are documented here:
<a class="reference external" href="http://wiki.developers.facebook.com/index.php/API">http://wiki.developers.facebook.com/index.php/API</a></p>
<p>Here is an example for the stream.get() method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                  <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">FacebookMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.authenticated</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">facebook_request</span><span class="p">(</span>
            <span class="n">method</span><span class="o">=</span><span class="s">&quot;stream.get&quot;</span><span class="p">,</span>
            <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_stream</span><span class="p">),</span>
            <span class="n">session_key</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_user</span><span class="p">[</span><span class="s">&quot;session_key&quot;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_on_stream</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stream</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
           <span class="c"># Not authorized to read the stream yet?</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">redirect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">(</span><span class="s">&quot;read_stream&quot;</span><span class="p">))</span>
           <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&quot;stream.html&quot;</span><span class="p">,</span> <span class="n">stream</span><span class="o">=</span><span class="n">stream</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.FacebookMixin.get_authenticated_user">
<tt class="descname">get_authenticated_user</tt><big>(</big><em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FacebookMixin.get_authenticated_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the authenticated Facebook user.</p>
<p>The authenticated user includes the special Facebook attributes
&#8216;session_key&#8217; and &#8216;facebook_uid&#8217; in addition to the standard
user attributes like &#8216;name&#8217;.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.FriendFeedMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">FriendFeedMixin</tt><a class="headerlink" href="#src.tornado.auth.FriendFeedMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.auth.OAuthMixin" title="src.tornado.auth.OAuthMixin"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.auth.OAuthMixin</span></tt></a></p>
<p>FriendFeed OAuth authentication.</p>
<p>To authenticate with FriendFeed, register your application with
FriendFeed at <a class="reference external" href="http://friendfeed.com/api/applications">http://friendfeed.com/api/applications</a>. Then
copy your Consumer Key and Consumer Secret to the application settings
&#8216;friendfeed_consumer_key&#8217; and &#8216;friendfeed_consumer_secret&#8217;. Use
this Mixin on the handler for the URL you registered as your
application&#8217;s Callback URL.</p>
<p>When your application is set up, you can use this Mixin like this
to authenticate the user with FriendFeed and get access to their feed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">FriendFeedHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                        <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">FriendFeedMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument</span><span class="p">(</span><span class="s">&quot;oauth_token&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_authenticated_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_auth</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s">&quot;FriendFeed auth failed&quot;</span><span class="p">)</span>
        <span class="c"># Save the user using, e.g., set_secure_cookie()</span>
</pre></div>
</div>
<p>The user object returned by get_authenticated_user() includes the
attributes &#8216;username&#8217;, &#8216;name&#8217;, and &#8216;description&#8217; in addition to
&#8216;access_token&#8217;. You should save the access token with the user;
it is required to make requests on behalf of the user later with
friendfeed_request().</p>
<dl class="method">
<dt id="src.tornado.auth.FriendFeedMixin.friendfeed_request">
<tt class="descname">friendfeed_request</tt><big>(</big><em>path</em>, <em>callback</em>, <em>access_token=None</em>, <em>post_args=None</em>, <em>**args</em><big>)</big><a class="headerlink" href="#src.tornado.auth.FriendFeedMixin.friendfeed_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the given relative API path, e.g., &#8220;/bret/friends&#8221;</p>
<p>If the request is a POST, post_args should be provided. Query
string arguments should be given as keyword arguments.</p>
<p>All the FriendFeed methods are documented at
<a class="reference external" href="http://friendfeed.com/api/documentation">http://friendfeed.com/api/documentation</a>.</p>
<p>Many methods require an OAuth access token which you can obtain
through authorize_redirect() and get_authenticated_user(). The
user returned through that process includes an &#8216;access_token&#8217;
attribute that can be used to make authenticated requests via
this method. Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                  <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">FriendFeedMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.authenticated</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">friendfeed_request</span><span class="p">(</span>
            <span class="s">&quot;/entry&quot;</span><span class="p">,</span>
            <span class="n">post_args</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;body&quot;</span><span class="p">:</span> <span class="s">&quot;Testing Tornado Web Server&quot;</span><span class="p">},</span>
            <span class="n">access_token</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">current_user</span><span class="p">[</span><span class="s">&quot;access_token&quot;</span><span class="p">],</span>
            <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_post</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_on_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_entry</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">new_entry</span><span class="p">:</span>
            <span class="c"># Call failed; perhaps missing permission?</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finish</span><span class="p">(</span><span class="s">&quot;Posted a message!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.GoogleMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">GoogleMixin</tt><a class="headerlink" href="#src.tornado.auth.GoogleMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.auth.OpenIdMixin" title="src.tornado.auth.OpenIdMixin"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.auth.OpenIdMixin</span></tt></a>, <a class="reference internal" href="#src.tornado.auth.OAuthMixin" title="src.tornado.auth.OAuthMixin"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.auth.OAuthMixin</span></tt></a></p>
<p>Google Open ID / OAuth authentication.</p>
<p>No application registration is necessary to use Google for authentication
or to access Google resources on behalf of a user. To authenticate with
Google, redirect with authenticate_redirect(). On return, parse the
response with get_authenticated_user(). We send a dict containing the
values for the user, including &#8216;email&#8217;, &#8216;name&#8217;, and &#8216;locale&#8217;.
Example usage:</p>
<div class="highlight-python"><pre>class GoogleHandler(tornado.web.RequestHandler, tornado.auth.GoogleMixin):
   @tornado.web.asynchronous
   def get(self):
       if self.get_argument("openid.mode", None):
           self.get_authenticated_user(self.async_callback(self._on_auth))
           return
    self.authenticate_redirect()

    def _on_auth(self, user):
        if not user:
            raise tornado.web.HTTPError(500, "Google auth failed")
        # Save the user with, e.g., set_secure_cookie()</pre>
</div>
<dl class="method">
<dt id="src.tornado.auth.GoogleMixin.authorize_redirect">
<tt class="descname">authorize_redirect</tt><big>(</big><em>oauth_scope, callback_uri=None, ax_attrs=['name', 'email', 'language', 'username']</em><big>)</big><a class="headerlink" href="#src.tornado.auth.GoogleMixin.authorize_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticates and authorizes for the given Google resource.</p>
<p>Some of the available resources are:</p>
<ul class="simple">
<li>Gmail Contacts - <a class="reference external" href="http://www.google.com/m8/feeds/">http://www.google.com/m8/feeds/</a></li>
<li>Calendar - <a class="reference external" href="http://www.google.com/calendar/feeds/">http://www.google.com/calendar/feeds/</a></li>
<li>Finance - <a class="reference external" href="http://finance.google.com/finance/feeds/">http://finance.google.com/finance/feeds/</a></li>
</ul>
<p>You can authorize multiple resources by separating the resource
URLs with a space.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.GoogleMixin.get_authenticated_user">
<tt class="descname">get_authenticated_user</tt><big>(</big><em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.auth.GoogleMixin.get_authenticated_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the authenticated user data upon redirect.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.OAuth2Mixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">OAuth2Mixin</tt><a class="headerlink" href="#src.tornado.auth.OAuth2Mixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Abstract implementation of OAuth v 2.</p>
<dl class="method">
<dt id="src.tornado.auth.OAuth2Mixin.authorize_redirect">
<tt class="descname">authorize_redirect</tt><big>(</big><em>redirect_uri=None</em>, <em>client_id=None</em>, <em>client_secret=None</em>, <em>extra_params=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.OAuth2Mixin.authorize_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirects the user to obtain OAuth authorization for this service.</p>
<p>Some providers require that you register a Callback
URL with your application. You should call this method to log the
user in, and then call get_authenticated_user() in the handler
you registered as your Callback URL to complete the authorization
process.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.OAuthMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">OAuthMixin</tt><a class="headerlink" href="#src.tornado.auth.OAuthMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Abstract implementation of OAuth.</p>
<p>See TwitterMixin and FriendFeedMixin below for example implementations.</p>
<dl class="method">
<dt id="src.tornado.auth.OAuthMixin.authorize_redirect">
<tt class="descname">authorize_redirect</tt><big>(</big><em>callback_uri=None</em>, <em>extra_params=None</em>, <em>http_client=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.OAuthMixin.authorize_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirects the user to obtain OAuth authorization for this service.</p>
<p>Twitter and FriendFeed both require that you register a Callback
URL with your application. You should call this method to log the
user in, and then call get_authenticated_user() in the handler
you registered as your Callback URL to complete the authorization
process.</p>
<p>This method sets a cookie called _oauth_request_token which is
subsequently used (and cleared) in get_authenticated_user for
security purposes.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.OAuthMixin.get_authenticated_user">
<tt class="descname">get_authenticated_user</tt><big>(</big><em>callback</em>, <em>http_client=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.OAuthMixin.get_authenticated_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the OAuth authorized user and access token on callback.</p>
<p>This method should be called from the handler for your registered
OAuth Callback URL to complete the registration process. We call
callback with the authenticated user, which in addition to standard
attributes like &#8216;name&#8217; includes the &#8216;access_key&#8217; attribute, which
contains the OAuth access you can use to make authorized requests
to this service on behalf of the user.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.OpenIdMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">OpenIdMixin</tt><a class="headerlink" href="#src.tornado.auth.OpenIdMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Abstract implementation of OpenID and Attribute Exchange.</p>
<p>See GoogleMixin below for example implementations.</p>
<dl class="method">
<dt id="src.tornado.auth.OpenIdMixin.authenticate_redirect">
<tt class="descname">authenticate_redirect</tt><big>(</big><em>callback_uri=None, ax_attrs=['name', 'email', 'language', 'username']</em><big>)</big><a class="headerlink" href="#src.tornado.auth.OpenIdMixin.authenticate_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the authentication URL for this service.</p>
<p>After authentication, the service will redirect back to the given
callback URI.</p>
<p>We request the given attributes for the authenticated user by
default (name, email, language, and username). If you don&#8217;t need
all those attributes for your app, you can request fewer with
the ax_attrs keyword argument.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.OpenIdMixin.get_authenticated_user">
<tt class="descname">get_authenticated_user</tt><big>(</big><em>callback</em>, <em>http_client=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.OpenIdMixin.get_authenticated_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the authenticated user data upon redirect.</p>
<p>This method should be called by the handler that receives the
redirect from the authenticate_redirect() or authorize_redirect()
methods.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.auth.TwitterMixin">
<em class="property">class </em><tt class="descclassname">src.tornado.auth.</tt><tt class="descname">TwitterMixin</tt><a class="headerlink" href="#src.tornado.auth.TwitterMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.auth.OAuthMixin" title="src.tornado.auth.OAuthMixin"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.auth.OAuthMixin</span></tt></a></p>
<p>Twitter OAuth authentication.</p>
<p>To authenticate with Twitter, register your application with
Twitter at <a class="reference external" href="http://twitter.com/apps">http://twitter.com/apps</a>. Then copy your Consumer Key and
Consumer Secret to the application settings &#8216;twitter_consumer_key&#8217; and
&#8216;twitter_consumer_secret&#8217;. Use this Mixin on the handler for the URL
you registered as your application&#8217;s Callback URL.</p>
<p>When your application is set up, you can use this Mixin like this
to authenticate the user with Twitter and get access to their stream:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">TwitterHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                     <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">TwitterMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_argument</span><span class="p">(</span><span class="s">&quot;oauth_token&quot;</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_authenticated_user</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_auth</span><span class="p">))</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_on_auth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="s">&quot;Twitter auth failed&quot;</span><span class="p">)</span>
        <span class="c"># Save the user using, e.g., set_secure_cookie()</span>
</pre></div>
</div>
<p>The user object returned by get_authenticated_user() includes the
attributes &#8216;username&#8217;, &#8216;name&#8217;, and all of the custom Twitter user
attributes describe at
<a class="reference external" href="http://apiwiki.twitter.com/Twitter-REST-API-Method%3A-users%C2%A0show">http://apiwiki.twitter.com/Twitter-REST-API-Method%3A-users%C2%A0show</a>
in addition to &#8216;access_token&#8217;. You should save the access token with
the user; it is required to make requests on behalf of the user later
with twitter_request().</p>
<dl class="method">
<dt id="src.tornado.auth.TwitterMixin.authenticate_redirect">
<tt class="descname">authenticate_redirect</tt><big>(</big><em>callback_uri=None</em><big>)</big><a class="headerlink" href="#src.tornado.auth.TwitterMixin.authenticate_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Just like authorize_redirect(), but auto-redirects if authorized.</p>
<p>This is generally the right interface to use if you are using
Twitter for single-sign on.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.auth.TwitterMixin.twitter_request">
<tt class="descname">twitter_request</tt><big>(</big><em>path</em>, <em>callback</em>, <em>access_token=None</em>, <em>post_args=None</em>, <em>**args</em><big>)</big><a class="headerlink" href="#src.tornado.auth.TwitterMixin.twitter_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the given API path, e.g., &#8220;/statuses/user_timeline/btaylor&#8221;</p>
<p>The path should not include the format (we automatically append
&#8221;.json&#8221; and parse the JSON output).</p>
<p>If the request is a POST, post_args should be provided. Query
string arguments should be given as keyword arguments.</p>
<p>All the Twitter methods are documented at
<a class="reference external" href="http://apiwiki.twitter.com/Twitter-API-Documentation">http://apiwiki.twitter.com/Twitter-API-Documentation</a>.</p>
<p>Many methods require an OAuth access token which you can obtain
through authorize_redirect() and get_authenticated_user(). The
user returned through that process includes an &#8216;access_token&#8217;
attribute that can be used to make authenticated requests via
this method. Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">,</span>
                  <span class="n">tornado</span><span class="o">.</span><span class="n">auth</span><span class="o">.</span><span class="n">TwitterMixin</span><span class="p">):</span>
    <span class="nd">@tornado.web.authenticated</span>
    <span class="nd">@tornado.web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">twitter_request</span><span class="p">(</span>
            <span class="s">&quot;/statuses/update&quot;</span><span class="p">,</span>
            <span class="n">post_args</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;Testing Tornado Web Server&quot;</span><span class="p">},</span>
            <span class="n">access_token</span><span class="o">=</span><span class="n">user</span><span class="p">[</span><span class="s">&quot;access_token&quot;</span><span class="p">],</span>
            <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">async_callback</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_on_post</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_on_post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_entry</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">new_entry</span><span class="p">:</span>
            <span class="c"># Call failed; perhaps missing permission?</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">authorize_redirect</span><span class="p">()</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">finish</span><span class="p">(</span><span class="s">&quot;Posted a message!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.tornado.autoreload">
<span id="autoreload-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">autoreload</span></tt> Module<a class="headerlink" href="#module-src.tornado.autoreload" title="Permalink to this headline">¶</a></h2>
<p>A module to automatically restart the server when a module is modified.</p>
<p>Most applications should not call this module directly.  Instead, pass the
keyword argument <tt class="docutils literal"><span class="pre">debug=True</span></tt> to the <cite>tornado.web.Application</cite> constructor.
This will enable autoreload mode as well as checking for changes to templates
and static resources.</p>
<p>This module depends on IOLoop, so it will not work in WSGI applications
and Google AppEngine.  It also will not work correctly when HTTPServer&#8217;s
multi-process mode is used.</p>
<dl class="function">
<dt id="src.tornado.autoreload.add_reload_hook">
<tt class="descclassname">src.tornado.autoreload.</tt><tt class="descname">add_reload_hook</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#src.tornado.autoreload.add_reload_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a function to be called before reloading the process.</p>
<p>Note that for open file and socket handles it is generally
preferable to set the <tt class="docutils literal"><span class="pre">FD_CLOEXEC</span></tt> flag (using <cite>fcntl</cite> or
<cite>tornado.platform.auto.set_close_exec</cite>) instead of using a reload
hook to close them.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.autoreload.main">
<tt class="descclassname">src.tornado.autoreload.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.autoreload.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Command-line wrapper to re-run a script whenever its source changes.</p>
<p>Scripts may be specified by filename or module name:</p>
<div class="highlight-python"><pre>python -m tornado.autoreload -m tornado.test.runtests
python -m tornado.autoreload tornado/test/runtests.py</pre>
</div>
<p>Running a script with this wrapper is similar to calling
<cite>tornado.autoreload.wait</cite> at the end of the script, but this wrapper
can catch import-time problems like syntax errors that would otherwise
prevent the script from reaching its call to <cite>wait</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.autoreload.start">
<tt class="descclassname">src.tornado.autoreload.</tt><tt class="descname">start</tt><big>(</big><em>io_loop=None</em>, <em>check_time=500</em><big>)</big><a class="headerlink" href="#src.tornado.autoreload.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Restarts the process automatically when a module is modified.</p>
<p>We run on the I/O loop, and restarting is a destructive operation,
so will terminate any pending requests.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.autoreload.wait">
<tt class="descclassname">src.tornado.autoreload.</tt><tt class="descname">wait</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.autoreload.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a watched file to change, then restart the process.</p>
<p>Intended to be used at the end of scripts like unit test runners,
to run the tests again after any source file changes (but see also
the command-line interface in <cite>main</cite>)</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.autoreload.watch">
<tt class="descclassname">src.tornado.autoreload.</tt><tt class="descname">watch</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#src.tornado.autoreload.watch" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a file to the watch list.</p>
<p>All imported modules are watched by default.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.curl_httpclient">
<span id="curl-httpclient-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">curl_httpclient</span></tt> Module<a class="headerlink" href="#module-src.tornado.curl_httpclient" title="Permalink to this headline">¶</a></h2>
<p>Blocking and non-blocking HTTP client implementations using pycurl.</p>
<dl class="class">
<dt id="src.tornado.curl_httpclient.CurlAsyncHTTPClient">
<em class="property">class </em><tt class="descclassname">src.tornado.curl_httpclient.</tt><tt class="descname">CurlAsyncHTTPClient</tt><a class="headerlink" href="#src.tornado.curl_httpclient.CurlAsyncHTTPClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.httpclient.AsyncHTTPClient</span></tt></p>
<dl class="method">
<dt id="src.tornado.curl_httpclient.CurlAsyncHTTPClient.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.curl_httpclient.CurlAsyncHTTPClient.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.curl_httpclient.CurlAsyncHTTPClient.fetch">
<tt class="descname">fetch</tt><big>(</big><em>request</em>, <em>callback</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.curl_httpclient.CurlAsyncHTTPClient.fetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.curl_httpclient.CurlAsyncHTTPClient.handle_callback_exception">
<tt class="descname">handle_callback_exception</tt><big>(</big><em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.curl_httpclient.CurlAsyncHTTPClient.handle_callback_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.curl_httpclient.CurlAsyncHTTPClient.initialize">
<tt class="descname">initialize</tt><big>(</big><em>io_loop=None</em>, <em>max_clients=10</em>, <em>max_simultaneous_connections=None</em><big>)</big><a class="headerlink" href="#src.tornado.curl_httpclient.CurlAsyncHTTPClient.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.curl_httpclient.CurlError">
<em class="property">exception </em><tt class="descclassname">src.tornado.curl_httpclient.</tt><tt class="descname">CurlError</tt><big>(</big><em>errno</em>, <em>message</em><big>)</big><a class="headerlink" href="#src.tornado.curl_httpclient.CurlError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.httpclient.HTTPError</span></tt></p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.database">
<span id="database-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">database</span></tt> Module<a class="headerlink" href="#module-src.tornado.database" title="Permalink to this headline">¶</a></h2>
<p>A lightweight wrapper around MySQLdb.</p>
<dl class="class">
<dt id="src.tornado.database.Connection">
<em class="property">class </em><tt class="descclassname">src.tornado.database.</tt><tt class="descname">Connection</tt><big>(</big><em>host</em>, <em>database</em>, <em>user=None</em>, <em>password=None</em>, <em>max_idle_time=25200</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A lightweight wrapper around MySQLdb DB-API connections.</p>
<p>The main value we provide is wrapping rows in a dict/object so that
columns can be accessed by name. Typical usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">db</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span> <span class="s">&quot;mydatabase&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">article</span> <span class="ow">in</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s">&quot;SELECT * FROM articles&quot;</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">article</span><span class="o">.</span><span class="n">title</span>
</pre></div>
</div>
<p>Cursors are hidden by the implementation, but other than that, the methods
are very similar to the DB-API.</p>
<p>We explicitly set the timezone to UTC and the character encoding to
UTF-8 on all connections to avoid time zone and encoding errors.</p>
<dl class="method">
<dt id="src.tornado.database.Connection.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes this database connection.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.execute">
<tt class="descname">execute</tt><big>(</big><em>query</em>, <em>*parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given query, returning the lastrowid from the query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.execute_lastrowid">
<tt class="descname">execute_lastrowid</tt><big>(</big><em>query</em>, <em>*parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.execute_lastrowid" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given query, returning the lastrowid from the query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.execute_rowcount">
<tt class="descname">execute_rowcount</tt><big>(</big><em>query</em>, <em>*parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.execute_rowcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given query, returning the rowcount from the query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.executemany">
<tt class="descname">executemany</tt><big>(</big><em>query</em>, <em>parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.executemany" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given query against all the given param sequences.</p>
<p>We return the lastrowid from the query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.executemany_lastrowid">
<tt class="descname">executemany_lastrowid</tt><big>(</big><em>query</em>, <em>parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.executemany_lastrowid" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given query against all the given param sequences.</p>
<p>We return the lastrowid from the query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.executemany_rowcount">
<tt class="descname">executemany_rowcount</tt><big>(</big><em>query</em>, <em>parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.executemany_rowcount" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the given query against all the given param sequences.</p>
<p>We return the rowcount from the query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.get">
<tt class="descname">get</tt><big>(</big><em>query</em>, <em>*parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first row returned for the given query.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.iter">
<tt class="descname">iter</tt><big>(</big><em>query</em>, <em>*parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.iter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator for the given query and parameters.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.query">
<tt class="descname">query</tt><big>(</big><em>query</em>, <em>*parameters</em><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.query" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a row list for the given query and parameters.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.database.Connection.reconnect">
<tt class="descname">reconnect</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.database.Connection.reconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the existing database connection and re-opens it.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.database.Row">
<em class="property">class </em><tt class="descclassname">src.tornado.database.</tt><tt class="descname">Row</tt><a class="headerlink" href="#src.tornado.database.Row" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>A dict that allows for object-like property access syntax.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.escape">
<span id="escape-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">escape</span></tt> Module<a class="headerlink" href="#module-src.tornado.escape" title="Permalink to this headline">¶</a></h2>
<p>Escaping/unescaping methods for HTML, JSON, URLs, and others.</p>
<p>Also includes a few other miscellaneous string manipulation functions that
have crept in over time.</p>
<dl class="function">
<dt id="src.tornado.escape.json_decode">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">json_decode</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.json_decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns Python objects for the given JSON string.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.json_encode">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">json_encode</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.json_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>JSON-encodes the given Python object.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.linkify">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">linkify</tt><big>(</big><em>text, shorten=False, extra_params='', require_protocol=False, permitted_protocols=['http', 'https']</em><big>)</big><a class="headerlink" href="#src.tornado.escape.linkify" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts plain text into HTML with links.</p>
<p>For example: <tt class="docutils literal"><span class="pre">linkify(&quot;Hello</span> <span class="pre">http://tornadoweb.org!&quot;)</span></tt> would return
<tt class="docutils literal"><span class="pre">Hello</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;http://tornadoweb.org&quot;&gt;http://tornadoweb.org&lt;/a&gt;!</span></tt></p>
<p>Parameters:</p>
<p>shorten: Long urls will be shortened for display.</p>
<dl class="docutils">
<dt>extra_params: Extra text to include in the link tag, or a callable</dt>
<dd><p class="first">taking the link as an argument and returning the extra text
e.g. <tt class="docutils literal"><span class="pre">linkify(text,</span> <span class="pre">extra_params='rel=&quot;nofollow&quot;</span> <span class="pre">class=&quot;external&quot;')</span></tt>,
or:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">extra_params_cb</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">url</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&quot;http://example.com&quot;</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&#39;class=&quot;internal&quot;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s">&#39;class=&quot;external&quot; rel=&quot;nofollow&quot;&#39;</span>
<span class="n">linkify</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">extra_params</span><span class="o">=</span><span class="n">extra_params_cb</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>require_protocol: Only linkify urls which include a protocol. If this is</dt>
<dd>False, urls such as www.facebook.com will also be linkified.</dd>
<dt>permitted_protocols: List (or set) of protocols which should be linkified,</dt>
<dd>e.g. linkify(text, permitted_protocols=[&#8220;http&#8221;, &#8220;ftp&#8221;, &#8220;mailto&#8221;]).
It is very unsafe to include protocols such as &#8220;javascript&#8221;.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.native_str">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">native_str</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.native_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a string argument to a byte string.</p>
<p>If the argument is already a byte string or None, it is returned unchanged.
Otherwise it must be a unicode string and is encoded as utf8.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.recursive_unicode">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">recursive_unicode</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#src.tornado.escape.recursive_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Walks a simple data structure, converting byte strings to unicode.</p>
<p>Supports lists, tuples, and dictionaries.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.squeeze">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">squeeze</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all sequences of whitespace chars with a single space.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.to_basestring">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">to_basestring</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.to_basestring" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a string argument to a subclass of basestring.</p>
<p>In python2, byte and unicode strings are mostly interchangeable,
so functions that deal with a user-supplied argument in combination
with ascii string constants can use either and should return the type
the user supplied.  In python3, the two types are not interchangeable,
so this method is needed to convert byte strings to unicode.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.to_unicode">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">to_unicode</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.to_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a string argument to a unicode string.</p>
<p>If the argument is already a unicode string or None, it is returned
unchanged.  Otherwise it must be a byte string and is decoded as utf8.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.url_escape">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">url_escape</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.url_escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a valid URL-encoded version of the given value.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.url_unescape">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">url_unescape</tt><big>(</big><em>value</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#src.tornado.escape.url_unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes the given value from a URL.</p>
<p>The argument may be either a byte or unicode string.</p>
<p>If encoding is None, the result will be a byte string.  Otherwise,
the result is a unicode string in the specified encoding.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.utf8">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">utf8</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.utf8" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a string argument to a byte string.</p>
<p>If the argument is already a byte string or None, it is returned unchanged.
Otherwise it must be a unicode string and is encoded as utf8.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.xhtml_escape">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">xhtml_escape</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.xhtml_escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Escapes a string so it is valid within XML or XHTML.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.escape.xhtml_unescape">
<tt class="descclassname">src.tornado.escape.</tt><tt class="descname">xhtml_unescape</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.escape.xhtml_unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Un-escapes an XML-escaped string.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.gen">
<span id="gen-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">gen</span></tt> Module<a class="headerlink" href="#module-src.tornado.gen" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">tornado.gen</span></tt> is a generator-based interface to make it easier to
work in an asynchronous environment.  Code using the <tt class="docutils literal"><span class="pre">gen</span></tt> module
is technically asynchronous, but it is written as a single generator
instead of a collection of separate functions.</p>
<p>For example, the following asynchronous handler:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">AsyncHandler</span><span class="p">(</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="nd">@asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">http_client</span> <span class="o">=</span> <span class="n">AsyncHTTPClient</span><span class="p">()</span>
        <span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">&quot;http://example.com&quot;</span><span class="p">,</span>
                          <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">on_fetch</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="n">do_something_with_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&quot;template.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>could be written with <tt class="docutils literal"><span class="pre">gen</span></tt> as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">GenAsyncHandler</span><span class="p">(</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="nd">@asynchronous</span>
    <span class="nd">@gen.engine</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">http_client</span> <span class="o">=</span> <span class="n">AsyncHTTPClient</span><span class="p">()</span>
        <span class="n">response</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">gen</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">,</span> <span class="s">&quot;http://example.com&quot;</span><span class="p">)</span>
        <span class="n">do_something_with_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s">&quot;template.html&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><cite>Task</cite> works with any function that takes a <tt class="docutils literal"><span class="pre">callback</span></tt> keyword
argument.  You can also yield a list of <tt class="docutils literal"><span class="pre">Tasks</span></tt>, which will be
started at the same time and run in parallel; a list of results will
be returned when they are all finished:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">http_client</span> <span class="o">=</span> <span class="n">AsyncHTTPClient</span><span class="p">()</span>
    <span class="n">response1</span><span class="p">,</span> <span class="n">response2</span> <span class="o">=</span> <span class="k">yield</span> <span class="p">[</span><span class="n">gen</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">,</span> <span class="n">url1</span><span class="p">),</span>
                                  <span class="n">gen</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">,</span> <span class="n">url2</span><span class="p">)]</span>
</pre></div>
</div>
<p>For more complicated interfaces, <cite>Task</cite> can be split into two parts:
<cite>Callback</cite> and <cite>Wait</cite>:</p>
<div class="highlight-python"><pre>class GenAsyncHandler2(RequestHandler):
    @asynchronous
    @gen.engine
    def get(self):
        http_client = AsyncHTTPClient()
        http_client.fetch("http://example.com",
                          callback=(yield gen.Callback("key"))
        response = yield gen.Wait("key")
        do_something_with_response(response)
        self.render("template.html")</pre>
</div>
<p>The <tt class="docutils literal"><span class="pre">key</span></tt> argument to <cite>Callback</cite> and <cite>Wait</cite> allows for multiple
asynchronous operations to be started at different times and proceed
in parallel: yield several callbacks with different keys, then wait
for them once all the async operations have started.</p>
<p>The result of a <cite>Wait</cite> or <cite>Task</cite> yield expression depends on how the callback
was run.  If it was called with no arguments, the result is <tt class="docutils literal"><span class="pre">None</span></tt>.  If
it was called with one argument, the result is that argument.  If it was
called with more than one argument or any keyword arguments, the result
is an <cite>Arguments</cite> object, which is a named tuple <tt class="docutils literal"><span class="pre">(args,</span> <span class="pre">kwargs)</span></tt>.</p>
<dl class="class">
<dt id="src.tornado.gen.Arguments">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">Arguments</tt><a class="headerlink" href="#src.tornado.gen.Arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tuple</span></tt></p>
<p>The result of a yield expression whose callback had more than one
argument (or keyword arguments).</p>
<p>The <cite>Arguments</cite> object can be used as a tuple <tt class="docutils literal"><span class="pre">(args,</span> <span class="pre">kwargs)</span></tt>
or an object with attributes <tt class="docutils literal"><span class="pre">args</span></tt> and <tt class="docutils literal"><span class="pre">kwargs</span></tt>.</p>
<dl class="attribute">
<dt id="src.tornado.gen.Arguments.args">
<tt class="descname">args</tt><a class="headerlink" href="#src.tornado.gen.Arguments.args" title="Permalink to this definition">¶</a></dt>
<dd><p>itemgetter(item, ...) &#8211;&gt; itemgetter object</p>
<p>Return a callable object that fetches the given item(s) from its operand.
After, f=itemgetter(2), the call f(r) returns r[2].
After, g=itemgetter(2,5,3), the call g(r) returns (r[2], r[5], r[3])</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.gen.Arguments.kwargs">
<tt class="descname">kwargs</tt><a class="headerlink" href="#src.tornado.gen.Arguments.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>itemgetter(item, ...) &#8211;&gt; itemgetter object</p>
<p>Return a callable object that fetches the given item(s) from its operand.
After, f=itemgetter(2), the call f(r) returns r[2].
After, g=itemgetter(2,5,3), the call g(r) returns (r[2], r[5], r[3])</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.gen.BadYieldError">
<em class="property">exception </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">BadYieldError</tt><a class="headerlink" href="#src.tornado.gen.BadYieldError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.Callback">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">Callback</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.gen.YieldPoint" title="src.tornado.gen.YieldPoint"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.gen.YieldPoint</span></tt></a></p>
<p>Returns a callable object that will allow a matching <cite>Wait</cite> to proceed.</p>
<p>The key may be any value suitable for use as a dictionary key, and is
used to match <tt class="docutils literal"><span class="pre">Callbacks</span></tt> to their corresponding <tt class="docutils literal"><span class="pre">Waits</span></tt>.  The key
must be unique among outstanding callbacks within a single run of the
generator function, but may be reused across different runs of the same
function (so constants generally work fine).</p>
<p>The callback may be called with zero or one arguments; if an argument
is given it will be returned by <cite>Wait</cite>.</p>
<dl class="method">
<dt id="src.tornado.gen.Callback.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Callback.get_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Callback.is_ready">
<tt class="descname">is_ready</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Callback.is_ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Callback.start">
<tt class="descname">start</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Callback.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.gen.KeyReuseError">
<em class="property">exception </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">KeyReuseError</tt><a class="headerlink" href="#src.tornado.gen.KeyReuseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="exception">
<dt id="src.tornado.gen.LeakedCallbackError">
<em class="property">exception </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">LeakedCallbackError</tt><a class="headerlink" href="#src.tornado.gen.LeakedCallbackError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.Multi">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">Multi</tt><big>(</big><em>children</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Multi" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.gen.YieldPoint" title="src.tornado.gen.YieldPoint"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.gen.YieldPoint</span></tt></a></p>
<p>Runs multiple asynchronous operations in parallel.</p>
<p>Takes a list of <tt class="docutils literal"><span class="pre">Tasks</span></tt> or other <tt class="docutils literal"><span class="pre">YieldPoints</span></tt> and returns a list of
their responses.  It is not necessary to call <cite>Multi</cite> explicitly,
since the engine will do so automatically when the generator yields
a list of <tt class="docutils literal"><span class="pre">YieldPoints</span></tt>.</p>
<dl class="method">
<dt id="src.tornado.gen.Multi.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Multi.get_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Multi.is_ready">
<tt class="descname">is_ready</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Multi.is_ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Multi.start">
<tt class="descname">start</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Multi.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.Runner">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">Runner</tt><big>(</big><em>gen</em>, <em>deactivate_stack_context</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Internal implementation of <cite>tornado.gen.engine</cite>.</p>
<p>Maintains information about pending callbacks and their results.</p>
<dl class="method">
<dt id="src.tornado.gen.Runner.handle_exception">
<tt class="descname">handle_exception</tt><big>(</big><em>typ</em>, <em>value</em>, <em>tb</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.handle_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Runner.is_ready">
<tt class="descname">is_ready</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if a result is available for <tt class="docutils literal"><span class="pre">key</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Runner.pop_result">
<tt class="descname">pop_result</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.pop_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the result for <tt class="docutils literal"><span class="pre">key</span></tt> and unregisters it.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Runner.register_callback">
<tt class="descname">register_callback</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.register_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds <tt class="docutils literal"><span class="pre">key</span></tt> to the list of callbacks.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Runner.result_callback">
<tt class="descname">result_callback</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.result_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Runner.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts or resumes the generator, running until it reaches a
yield point that is not ready.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Runner.set_result">
<tt class="descname">set_result</tt><big>(</big><em>key</em>, <em>result</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Runner.set_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the result for <tt class="docutils literal"><span class="pre">key</span></tt> and attempts to resume the generator.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.Task">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">Task</tt><big>(</big><em>func</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.gen.YieldPoint" title="src.tornado.gen.YieldPoint"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.gen.YieldPoint</span></tt></a></p>
<p>Runs a single asynchronous operation.</p>
<p>Takes a function (and optional additional arguments) and runs it with
those arguments plus a <tt class="docutils literal"><span class="pre">callback</span></tt> keyword argument.  The argument passed
to the callback is returned as the result of the yield expression.</p>
<p>A <cite>Task</cite> is equivalent to a <cite>Callback</cite>/<cite>Wait</cite> pair (with a unique
key generated automatically):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">gen</span><span class="o">.</span><span class="n">Task</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>

<span class="n">func</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="p">(</span><span class="k">yield</span> <span class="n">gen</span><span class="o">.</span><span class="n">Callback</span><span class="p">(</span><span class="n">key</span><span class="p">)))</span>
<span class="n">result</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">gen</span><span class="o">.</span><span class="n">Wait</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="src.tornado.gen.Task.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Task.get_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Task.is_ready">
<tt class="descname">is_ready</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Task.is_ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Task.start">
<tt class="descname">start</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Task.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.gen.UnknownKeyError">
<em class="property">exception </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">UnknownKeyError</tt><a class="headerlink" href="#src.tornado.gen.UnknownKeyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.Wait">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">Wait</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.gen.YieldPoint" title="src.tornado.gen.YieldPoint"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.gen.YieldPoint</span></tt></a></p>
<p>Returns the argument passed to the result of a previous <cite>Callback</cite>.</p>
<dl class="method">
<dt id="src.tornado.gen.Wait.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Wait.get_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Wait.is_ready">
<tt class="descname">is_ready</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.Wait.is_ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.Wait.start">
<tt class="descname">start</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#src.tornado.gen.Wait.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.WaitAll">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">WaitAll</tt><big>(</big><em>keys</em><big>)</big><a class="headerlink" href="#src.tornado.gen.WaitAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.gen.YieldPoint" title="src.tornado.gen.YieldPoint"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.gen.YieldPoint</span></tt></a></p>
<p>Returns the results of multiple previous <cite>Callbacks</cite>.</p>
<p>The argument is a sequence of <cite>Callback</cite> keys, and the result is
a list of results in the same order.</p>
<p><cite>WaitAll</cite> is equivalent to yielding a list of <cite>Wait</cite> objects.</p>
<dl class="method">
<dt id="src.tornado.gen.WaitAll.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.WaitAll.get_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.WaitAll.is_ready">
<tt class="descname">is_ready</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.WaitAll.is_ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.gen.WaitAll.start">
<tt class="descname">start</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#src.tornado.gen.WaitAll.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.gen.YieldPoint">
<em class="property">class </em><tt class="descclassname">src.tornado.gen.</tt><tt class="descname">YieldPoint</tt><a class="headerlink" href="#src.tornado.gen.YieldPoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for objects that may be yielded from the generator.</p>
<dl class="method">
<dt id="src.tornado.gen.YieldPoint.get_result">
<tt class="descname">get_result</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.YieldPoint.get_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value to use as the result of the yield expression.</p>
<p>This method will only be called once, and only after <cite>is_ready</cite>
has returned true.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.gen.YieldPoint.is_ready">
<tt class="descname">is_ready</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.gen.YieldPoint.is_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the runner to determine whether to resume the generator.</p>
<p>Returns a boolean; may be called more than once.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.gen.YieldPoint.start">
<tt class="descname">start</tt><big>(</big><em>runner</em><big>)</big><a class="headerlink" href="#src.tornado.gen.YieldPoint.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the runner after the generator has yielded.</p>
<p>No other methods will be called on this object before <tt class="docutils literal"><span class="pre">start</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.gen.engine">
<tt class="descclassname">src.tornado.gen.</tt><tt class="descname">engine</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#src.tornado.gen.engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for asynchronous generators.</p>
<p>Any generator that yields objects from this module must be wrapped
in this decorator.  The decorator only works on functions that are
already asynchronous.  For <cite>~tornado.web.RequestHandler</cite>
<tt class="docutils literal"><span class="pre">get</span></tt>/<tt class="docutils literal"><span class="pre">post</span></tt>/etc methods, this means that both the
<cite>tornado.web.asynchronous</cite> and <cite>tornado.gen.engine</cite> decorators
must be used (for proper exception handling, <tt class="docutils literal"><span class="pre">asynchronous</span></tt>
should come before <tt class="docutils literal"><span class="pre">gen.engine</span></tt>).  In most other cases, it means
that it doesn&#8217;t make sense to use <tt class="docutils literal"><span class="pre">gen.engine</span></tt> on functions that
don&#8217;t already take a callback argument.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.httpclient">
<span id="httpclient-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">httpclient</span></tt> Module<a class="headerlink" href="#module-src.tornado.httpclient" title="Permalink to this headline">¶</a></h2>
<p>Blocking and non-blocking HTTP client interfaces.</p>
<p>This module defines a common interface shared by two implementations,
<cite>simple_httpclient</cite> and <cite>curl_httpclient</cite>.  Applications may either
instantiate their chosen implementation class directly or use the
<cite>AsyncHTTPClient</cite> class from this module, which selects an implementation
that can be overridden with the <cite>AsyncHTTPClient.configure</cite> method.</p>
<p>The default implementation is <cite>simple_httpclient</cite>, and this is expected
to be suitable for most users&#8217; needs.  However, some applications may wish
to switch to <cite>curl_httpclient</cite> for reasons such as the following:</p>
<ul class="simple">
<li><cite>curl_httpclient</cite> has some features not found in <cite>simple_httpclient</cite>,
including support for HTTP proxies and the ability to use a specified
network interface.</li>
<li><cite>curl_httpclient</cite> is more likely to be compatible with sites that are
not-quite-compliant with the HTTP spec, or sites that use little-exercised
features of HTTP.</li>
<li><cite>simple_httpclient</cite> only supports SSL on Python 2.6 and above.</li>
<li><cite>curl_httpclient</cite> is faster</li>
<li><cite>curl_httpclient</cite> was the default prior to Tornado 2.0.</li>
</ul>
<p>Note that if you are using <cite>curl_httpclient</cite>, it is highly recommended that
you use a recent version of <tt class="docutils literal"><span class="pre">libcurl</span></tt> and <tt class="docutils literal"><span class="pre">pycurl</span></tt>.  Currently the minimum
supported version is 7.18.2, and the recommended version is 7.21.1 or newer.</p>
<dl class="class">
<dt id="src.tornado.httpclient.AsyncHTTPClient">
<em class="property">class </em><tt class="descclassname">src.tornado.httpclient.</tt><tt class="descname">AsyncHTTPClient</tt><a class="headerlink" href="#src.tornado.httpclient.AsyncHTTPClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>An non-blocking HTTP client.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">ioloop</span>

<span class="k">def</span> <span class="nf">handle_request</span><span class="p">(</span><span class="n">response</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">error</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">error</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="n">response</span><span class="o">.</span><span class="n">body</span>
    <span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

<span class="n">http_client</span> <span class="o">=</span> <span class="n">httpclient</span><span class="o">.</span><span class="n">AsyncHTTPClient</span><span class="p">()</span>
<span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">&quot;http://www.google.com/&quot;</span><span class="p">,</span> <span class="n">handle_request</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The constructor for this class is magic in several respects:  It actually
creates an instance of an implementation-specific subclass, and instances
are reused as a kind of pseudo-singleton (one per IOLoop).  The keyword
argument force_instance=True can be used to suppress this singleton
behavior.  Constructor arguments other than io_loop and force_instance
are deprecated.  The implementation subclass as well as arguments to
its constructor can be set with the static method configure()</p>
<dl class="method">
<dt id="src.tornado.httpclient.AsyncHTTPClient.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpclient.AsyncHTTPClient.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Destroys this http client, freeing any file descriptors used.
Not needed in normal use, but may be helpful in unittests that
create and destroy http clients.  No other methods may be called
on the AsyncHTTPClient after close().</p>
</dd></dl>

<dl class="staticmethod">
<dt id="src.tornado.httpclient.AsyncHTTPClient.configure">
<em class="property">static </em><tt class="descname">configure</tt><big>(</big><em>impl</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.AsyncHTTPClient.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the AsyncHTTPClient subclass to use.</p>
<p>AsyncHTTPClient() actually creates an instance of a subclass.
This method may be called with either a class object or the
fully-qualified name of such a class (or None to use the default,
SimpleAsyncHTTPClient)</p>
<p>If additional keyword arguments are given, they will be passed
to the constructor of each subclass instance created.  The
keyword argument max_clients determines the maximum number of
simultaneous fetch() operations that can execute in parallel
on each IOLoop.  Additional arguments may be supported depending
on the implementation class in use.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">AsyncHTTPClient</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="s">&quot;tornado.curl_httpclient.CurlAsyncHTTPClient&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpclient.AsyncHTTPClient.fetch">
<tt class="descname">fetch</tt><big>(</big><em>request</em>, <em>callback</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.AsyncHTTPClient.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a request, calling callback with an <cite>HTTPResponse</cite>.</p>
<p>The request may be either a string URL or an <cite>HTTPRequest</cite> object.
If it is a string, we construct an <cite>HTTPRequest</cite> using any additional
kwargs: <tt class="docutils literal"><span class="pre">HTTPRequest(request,</span> <span class="pre">**kwargs)</span></tt></p>
<p>If an error occurs during the fetch, the HTTPResponse given to the
callback has a non-None error attribute that contains the exception
encountered during the request. You can call response.rethrow() to
throw the exception (if any) in the callback.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.httpclient.HTTPClient">
<em class="property">class </em><tt class="descclassname">src.tornado.httpclient.</tt><tt class="descname">HTTPClient</tt><big>(</big><em>async_client_class=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A blocking HTTP client.</p>
<p>This interface is provided for convenience and testing; most applications
that are running an IOLoop will want to use <cite>AsyncHTTPClient</cite> instead.
Typical usage looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">http_client</span> <span class="o">=</span> <span class="n">httpclient</span><span class="o">.</span><span class="n">HTTPClient</span><span class="p">()</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">&quot;http://www.google.com/&quot;</span><span class="p">)</span>
    <span class="k">print</span> <span class="n">response</span><span class="o">.</span><span class="n">body</span>
<span class="k">except</span> <span class="n">httpclient</span><span class="o">.</span><span class="n">HTTPError</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span>
</pre></div>
</div>
<dl class="method">
<dt id="src.tornado.httpclient.HTTPClient.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPClient.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the HTTPClient, freeing any resources used.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpclient.HTTPClient.fetch">
<tt class="descname">fetch</tt><big>(</big><em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPClient.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a request, returning an <cite>HTTPResponse</cite>.</p>
<p>The request may be either a string URL or an <cite>HTTPRequest</cite> object.
If it is a string, we construct an <cite>HTTPRequest</cite> using any additional
kwargs: <tt class="docutils literal"><span class="pre">HTTPRequest(request,</span> <span class="pre">**kwargs)</span></tt></p>
<p>If an error occurs during the fetch, we raise an <cite>HTTPError</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.httpclient.HTTPError">
<em class="property">exception </em><tt class="descclassname">src.tornado.httpclient.</tt><tt class="descname">HTTPError</tt><big>(</big><em>code</em>, <em>message=None</em>, <em>response=None</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Exception thrown for an unsuccessful HTTP request.</p>
<p>Attributes:</p>
<dl class="docutils">
<dt>code - HTTP error integer error code, e.g. 404.  Error code 599 is</dt>
<dd>used when no HTTP response was received, e.g. for a timeout.</dd>
</dl>
<p>response - HTTPResponse object, if any.</p>
<p>Note that if follow_redirects is False, redirects become HTTPErrors,
and you can look at error.response.headers[&#8216;Location&#8217;] to see the
destination of the redirect.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.httpclient.HTTPRequest">
<em class="property">class </em><tt class="descclassname">src.tornado.httpclient.</tt><tt class="descname">HTTPRequest</tt><big>(</big><em>url</em>, <em>method='GET'</em>, <em>headers=None</em>, <em>body=None</em>, <em>auth_username=None</em>, <em>auth_password=None</em>, <em>connect_timeout=20.0</em>, <em>request_timeout=20.0</em>, <em>if_modified_since=None</em>, <em>follow_redirects=True</em>, <em>max_redirects=5</em>, <em>user_agent=None</em>, <em>use_gzip=True</em>, <em>network_interface=None</em>, <em>streaming_callback=None</em>, <em>header_callback=None</em>, <em>prepare_curl_callback=None</em>, <em>proxy_host=None</em>, <em>proxy_port=None</em>, <em>proxy_username=None</em>, <em>proxy_password=''</em>, <em>allow_nonstandard_methods=False</em>, <em>validate_cert=True</em>, <em>ca_certs=None</em>, <em>allow_ipv6=None</em>, <em>client_key=None</em>, <em>client_cert=None</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>HTTP client request object.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.httpclient.HTTPResponse">
<em class="property">class </em><tt class="descclassname">src.tornado.httpclient.</tt><tt class="descname">HTTPResponse</tt><big>(</big><em>request</em>, <em>code</em>, <em>headers=None</em>, <em>buffer=None</em>, <em>effective_url=None</em>, <em>error=None</em>, <em>request_time=None</em>, <em>time_info=None</em><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>HTTP Response object.</p>
<p>Attributes:</p>
<ul>
<li><p class="first">request: HTTPRequest object</p>
</li>
<li><p class="first">code: numeric HTTP status code, e.g. 200 or 404</p>
</li>
<li><p class="first">headers: httputil.HTTPHeaders object</p>
</li>
<li><p class="first">buffer: cStringIO object for response body</p>
</li>
<li><p class="first">body: respose body as string (created on demand from self.buffer)</p>
</li>
<li><p class="first">error: Exception object, if any</p>
</li>
<li><p class="first">request_time: seconds from request start to finish</p>
</li>
<li><dl class="first docutils">
<dt>time_info: dictionary of diagnostic timing information from the request.</dt>
<dd><p class="first last">Available data are subject to change, but currently uses timings
available from <a class="reference external" href="http://curl.haxx.se/libcurl/c/curl_easy_getinfo.html">http://curl.haxx.se/libcurl/c/curl_easy_getinfo.html</a>,
plus &#8216;queue&#8217;, which is the delay (if any) introduced by waiting for
a slot under AsyncHTTPClient&#8217;s max_clients setting.</p>
</dd>
</dl>
</li>
</ul>
<dl class="attribute">
<dt id="src.tornado.httpclient.HTTPResponse.body">
<tt class="descname">body</tt><a class="headerlink" href="#src.tornado.httpclient.HTTPResponse.body" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.httpclient.HTTPResponse.rethrow">
<tt class="descname">rethrow</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpclient.HTTPResponse.rethrow" title="Permalink to this definition">¶</a></dt>
<dd><p>If there was an error on the request, raise an <cite>HTTPError</cite>.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.httpclient.main">
<tt class="descclassname">src.tornado.httpclient.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpclient.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-src.tornado.httpserver">
<span id="httpserver-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">httpserver</span></tt> Module<a class="headerlink" href="#module-src.tornado.httpserver" title="Permalink to this headline">¶</a></h2>
<p>A non-blocking, single-threaded HTTP server.</p>
<p>Typical applications have little direct interaction with the <cite>HTTPServer</cite>
class except to start a server at the beginning of the process
(and even that is often done indirectly via <cite>tornado.web.Application.listen</cite>).</p>
<p>This module also defines the <cite>HTTPRequest</cite> class which is exposed via
<cite>tornado.web.RequestHandler.request</cite>.</p>
<dl class="class">
<dt id="src.tornado.httpserver.HTTPConnection">
<em class="property">class </em><tt class="descclassname">src.tornado.httpserver.</tt><tt class="descname">HTTPConnection</tt><big>(</big><em>stream</em>, <em>address</em>, <em>request_callback</em>, <em>no_keep_alive=False</em>, <em>xheaders=False</em><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPConnection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Handles a connection to an HTTP client, executing HTTP requests.</p>
<p>We parse HTTP headers and bodies, and execute the request callback
until the HTTP conection is closed.</p>
<dl class="method">
<dt id="src.tornado.httpserver.HTTPConnection.finish">
<tt class="descname">finish</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPConnection.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes the request.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPConnection.write">
<tt class="descname">write</tt><big>(</big><em>chunk</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPConnection.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a chunk of output to the stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.httpserver.HTTPRequest">
<em class="property">class </em><tt class="descclassname">src.tornado.httpserver.</tt><tt class="descname">HTTPRequest</tt><big>(</big><em>method</em>, <em>uri</em>, <em>version='HTTP/1.0'</em>, <em>headers=None</em>, <em>body=None</em>, <em>remote_ip=None</em>, <em>protocol=None</em>, <em>host=None</em>, <em>files=None</em>, <em>connection=None</em><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A single HTTP request.</p>
<p>All attributes are type <cite>str</cite> unless otherwise noted.</p>
<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.method">
<tt class="descname">method</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.method" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP request method, e.g. &#8220;GET&#8221; or &#8220;POST&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.uri">
<tt class="descname">uri</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.uri" title="Permalink to this definition">¶</a></dt>
<dd><p>The requested uri.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.path">
<tt class="descname">path</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path portion of <cite>uri</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.query">
<tt class="descname">query</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.query" title="Permalink to this definition">¶</a></dt>
<dd><p>The query portion of <cite>uri</cite></p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.version">
<tt class="descname">version</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.version" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP version specified in request, e.g. &#8220;HTTP/1.1&#8221;</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.headers">
<tt class="descname">headers</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.headers" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>HTTPHeader</cite> dictionary-like object for request headers.  Acts like
a case-insensitive dictionary with additional methods for repeated
headers.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.body">
<tt class="descname">body</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.body" title="Permalink to this definition">¶</a></dt>
<dd><p>Request body, if present, as a byte string.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.remote_ip">
<tt class="descname">remote_ip</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.remote_ip" title="Permalink to this definition">¶</a></dt>
<dd><p>Client&#8217;s IP address as a string.  If <cite>HTTPServer.xheaders</cite> is set,
will pass along the real IP address provided by a load balancer
in the <tt class="docutils literal"><span class="pre">X-Real-Ip</span></tt> header</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.protocol">
<tt class="descname">protocol</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>The protocol used, either &#8220;http&#8221; or &#8220;https&#8221;.  If <cite>HTTPServer.xheaders</cite>
is set, will pass along the protocol used by a load balancer if
reported via an <tt class="docutils literal"><span class="pre">X-Scheme</span></tt> header.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.host">
<tt class="descname">host</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.host" title="Permalink to this definition">¶</a></dt>
<dd><p>The requested hostname, usually taken from the <tt class="docutils literal"><span class="pre">Host</span></tt> header.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.arguments">
<tt class="descname">arguments</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>GET/POST arguments are available in the arguments property, which
maps arguments names to lists of values (to support multiple values
for individual names). Names are of type <cite>str</cite>, while arguments
are byte strings.  Note that this is different from
<cite>RequestHandler.get_argument</cite>, which returns argument values as
unicode strings.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.files">
<tt class="descname">files</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.files" title="Permalink to this definition">¶</a></dt>
<dd><p>File uploads are available in the files property, which maps file
names to lists of <tt class="xref py py-class docutils literal"><span class="pre">HTTPFile</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.connection">
<tt class="descname">connection</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.connection" title="Permalink to this definition">¶</a></dt>
<dd><p>An HTTP request is attached to a single HTTP connection, which can
be accessed through the &#8220;connection&#8221; attribute. Since connections
are typically kept open in HTTP/1.1, multiple requests can be handled
sequentially on a single connection.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.httpserver.HTTPRequest.cookies">
<tt class="descname">cookies</tt><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of Cookie.Morsel objects.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPRequest.finish">
<tt class="descname">finish</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes this HTTP request on the open connection.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPRequest.full_url">
<tt class="descname">full_url</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.full_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstructs the full URL for this request.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPRequest.get_ssl_certificate">
<tt class="descname">get_ssl_certificate</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.get_ssl_certificate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the client&#8217;s SSL certificate, if any.</p>
<p>To use client certificates, the HTTPServer must have been constructed
with cert_reqs set in ssl_options, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">HTTPServer</span><span class="p">(</span><span class="n">app</span><span class="p">,</span>
    <span class="n">ssl_options</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">certfile</span><span class="o">=</span><span class="s">&quot;foo.crt&quot;</span><span class="p">,</span>
        <span class="n">keyfile</span><span class="o">=</span><span class="s">&quot;foo.key&quot;</span><span class="p">,</span>
        <span class="n">cert_reqs</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">CERT_REQUIRED</span><span class="p">,</span>
        <span class="n">ca_certs</span><span class="o">=</span><span class="s">&quot;cacert.crt&quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>The return value is a dictionary, see SSLSocket.getpeercert() in
the standard library for more details.
<a class="reference external" href="http://docs.python.org/library/ssl.html#sslsocket-objects">http://docs.python.org/library/ssl.html#sslsocket-objects</a></p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPRequest.request_time">
<tt class="descname">request_time</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.request_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the amount of time it took for this request to execute.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPRequest.supports_http_1_1">
<tt class="descname">supports_http_1_1</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.supports_http_1_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this request supports HTTP/1.1 semantics</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httpserver.HTTPRequest.write">
<tt class="descname">write</tt><big>(</big><em>chunk</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPRequest.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given chunk to the response stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.httpserver.HTTPServer">
<em class="property">class </em><tt class="descclassname">src.tornado.httpserver.</tt><tt class="descname">HTTPServer</tt><big>(</big><em>request_callback</em>, <em>no_keep_alive=False</em>, <em>io_loop=None</em>, <em>xheaders=False</em>, <em>ssl_options=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.netutil.TCPServer</span></tt></p>
<p>A non-blocking, single-threaded HTTP server.</p>
<p>A server is defined by a request callback that takes an HTTPRequest
instance as an argument and writes a valid HTTP response with
<cite>HTTPRequest.write</cite>. <cite>HTTPRequest.finish</cite> finishes the request (but does
not necessarily close the connection in the case of HTTP/1.1 keep-alive
requests). A simple example server that echoes back the URI you
requested:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">httpserver</span>
<span class="kn">import</span> <span class="nn">ioloop</span>

<span class="k">def</span> <span class="nf">handle_request</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
   <span class="n">message</span> <span class="o">=</span> <span class="s">&quot;You requested </span><span class="si">%s</span><span class="se">\n</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">request</span><span class="o">.</span><span class="n">uri</span>
   <span class="n">request</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;HTTP/1.1 200 OK</span><span class="se">\r\n</span><span class="s">Content-Length: </span><span class="si">%d</span><span class="se">\r\n\r\n</span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                 <span class="nb">len</span><span class="p">(</span><span class="n">message</span><span class="p">),</span> <span class="n">message</span><span class="p">))</span>
   <span class="n">request</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>

<span class="n">http_server</span> <span class="o">=</span> <span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">handle_request</span><span class="p">)</span>
<span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p><cite>HTTPServer</cite> is a very basic connection handler. Beyond parsing the
HTTP request body and headers, the only HTTP semantics implemented
in <cite>HTTPServer</cite> is HTTP/1.1 keep-alive connections. We do not, however,
implement chunked encoding, so the request callback must provide a
<tt class="docutils literal"><span class="pre">Content-Length</span></tt> header or implement chunked encoding for HTTP/1.1
requests for the server to run correctly for HTTP/1.1 clients. If
the request handler is unable to do this, you can provide the
<tt class="docutils literal"><span class="pre">no_keep_alive</span></tt> argument to the <cite>HTTPServer</cite> constructor, which will
ensure the connection is closed on every request no matter what HTTP
version the client is using.</p>
<p>If <tt class="docutils literal"><span class="pre">xheaders</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt>, we support the <tt class="docutils literal"><span class="pre">X-Real-Ip</span></tt> and <tt class="docutils literal"><span class="pre">X-Scheme</span></tt>
headers, which override the remote IP and HTTP scheme for all requests.
These headers are useful when running Tornado behind a reverse proxy or
load balancer.</p>
<p><cite>HTTPServer</cite> can serve SSL traffic with Python 2.6+ and OpenSSL.
To make this server serve SSL traffic, send the ssl_options dictionary
argument with the arguments required for the <cite>ssl.wrap_socket</cite> method,
including &#8220;certfile&#8221; and &#8220;keyfile&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">HTTPServer</span><span class="p">(</span><span class="n">applicaton</span><span class="p">,</span> <span class="n">ssl_options</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&quot;certfile&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s">&quot;mydomain.crt&quot;</span><span class="p">),</span>
    <span class="s">&quot;keyfile&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s">&quot;mydomain.key&quot;</span><span class="p">),</span>
<span class="p">})</span>
</pre></div>
</div>
<p><cite>HTTPServer</cite> initialization follows one of three patterns (the
initialization methods are defined on <cite>tornado.netutil.TCPServer</cite>):</p>
<ol class="arabic">
<li><p class="first"><cite>~tornado.netutil.TCPServer.listen</cite>: simple single-process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">HTTPServer</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>In many cases, <cite>tornado.web.Application.listen</cite> can be used to avoid
the need to explicitly create the <cite>HTTPServer</cite>.</p>
</li>
<li><p class="first"><cite>~tornado.netutil.TCPServer.bind</cite>/<cite>~tornado.netutil.TCPServer.start</cite>:
simple multi-process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">HTTPServer</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c"># Forks multiple sub-processes</span>
<span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>When using this interface, an <cite>IOLoop</cite> must <em>not</em> be passed
to the <cite>HTTPServer</cite> constructor.  <cite>start</cite> will always start
the server on the default singleton <cite>IOLoop</cite>.</p>
</li>
<li><p class="first"><cite>~tornado.netutil.TCPServer.add_sockets</cite>: advanced multi-process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sockets</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">netutil</span><span class="o">.</span><span class="n">bind_sockets</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">tornado</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">fork_processes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">HTTPServer</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">add_sockets</span><span class="p">(</span><span class="n">sockets</span><span class="p">)</span>
<span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The <cite>add_sockets</cite> interface is more complicated, but it can be
used with <cite>tornado.process.fork_processes</cite> to give you more
flexibility in when the fork happens.  <cite>add_sockets</cite> can
also be used in single-process servers if you want to create
your listening sockets in some way other than
<cite>tornado.netutil.bind_sockets</cite>.</p>
</li>
</ol>
<dl class="method">
<dt id="src.tornado.httpserver.HTTPServer.handle_stream">
<tt class="descname">handle_stream</tt><big>(</big><em>stream</em>, <em>address</em><big>)</big><a class="headerlink" href="#src.tornado.httpserver.HTTPServer.handle_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.tornado.httputil">
<span id="httputil-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">httputil</span></tt> Module<a class="headerlink" href="#module-src.tornado.httputil" title="Permalink to this headline">¶</a></h2>
<p>HTTP utility code shared by clients and servers.</p>
<dl class="class">
<dt id="src.tornado.httputil.HTTPFile">
<em class="property">class </em><tt class="descclassname">src.tornado.httputil.</tt><tt class="descname">HTTPFile</tt><a class="headerlink" href="#src.tornado.httputil.HTTPFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.util.ObjectDict</span></tt></p>
<p>Represents an HTTP file. For backwards compatibility, its instance
attributes are also accessible as dictionary keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> &#8211; </li>
<li><strong>body</strong> &#8211; </li>
<li><strong>content_type</strong> &#8211; The content_type comes from the provided HTTP header
and should not be trusted outright given that it can be easily forged.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="src.tornado.httputil.HTTPHeaders">
<em class="property">class </em><tt class="descclassname">src.tornado.httputil.</tt><tt class="descname">HTTPHeaders</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>A dictionary that maintains Http-Header-Case for all keys.</p>
<p>Supports multiple values per key via a pair of new methods,
add() and get_list().  The regular dictionary interface returns a single
value per key, with multiple values joined by a comma.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">HTTPHeaders</span><span class="p">({</span><span class="s">&quot;content-type&quot;</span><span class="p">:</span> <span class="s">&quot;text/html&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;Content-Type&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="p">[</span><span class="s">&quot;Content-Type&quot;</span><span class="p">]</span>
<span class="go">&#39;text/html&#39;</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;Set-Cookie&quot;</span><span class="p">,</span> <span class="s">&quot;A=B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="s">&quot;Set-Cookie&quot;</span><span class="p">,</span> <span class="s">&quot;C=D&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="p">[</span><span class="s">&quot;set-cookie&quot;</span><span class="p">]</span>
<span class="go">&#39;A=B,C=D&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">get_list</span><span class="p">(</span><span class="s">&quot;set-cookie&quot;</span><span class="p">)</span>
<span class="go">[&#39;A=B&#39;, &#39;C=D&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">get_all</span><span class="p">()):</span>
<span class="gp">... </span>   <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">: </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">Content-Type: text/html</span>
<span class="go">Set-Cookie: A=B</span>
<span class="go">Set-Cookie: C=D</span>
</pre></div>
</div>
<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.add">
<tt class="descname">add</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new value for the given key.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.get">
<tt class="descname">get</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.get_all">
<tt class="descname">get_all</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.get_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterable of all (name, value) pairs.</p>
<p>If a header has multiple values, multiple pairs will be
returned with the same name.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.get_list">
<tt class="descname">get_list</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.get_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all values for the given header as a list.</p>
</dd></dl>

<dl class="classmethod">
<dt id="src.tornado.httputil.HTTPHeaders.parse">
<em class="property">classmethod </em><tt class="descname">parse</tt><big>(</big><em>headers</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary from HTTP header text.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">HTTPHeaders</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">&quot;Content-Type: text/html</span><span class="se">\r\n</span><span class="s">Content-Length: 42</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">iteritems</span><span class="p">())</span>
<span class="go">[(&#39;Content-Length&#39;, &#39;42&#39;), (&#39;Content-Type&#39;, &#39;text/html&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.parse_line">
<tt class="descname">parse_line</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.parse_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the dictionary with a single header line.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">HTTPHeaders</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">parse_line</span><span class="p">(</span><span class="s">&quot;Content-Type: text/html&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;content-type&#39;</span><span class="p">)</span>
<span class="go">&#39;text/html&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="src.tornado.httputil.HTTPHeaders.update">
<tt class="descname">update</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.HTTPHeaders.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.httputil.doctests">
<tt class="descclassname">src.tornado.httputil.</tt><tt class="descname">doctests</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.httputil.doctests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="src.tornado.httputil.parse_multipart_form_data">
<tt class="descclassname">src.tornado.httputil.</tt><tt class="descname">parse_multipart_form_data</tt><big>(</big><em>boundary</em>, <em>data</em>, <em>arguments</em>, <em>files</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.parse_multipart_form_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a multipart/form-data body.</p>
<p>The boundary and data parameters are both byte strings.
The dictionaries given in the arguments and files parameters
will be updated with the contents of the body.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.httputil.url_concat">
<tt class="descclassname">src.tornado.httputil.</tt><tt class="descname">url_concat</tt><big>(</big><em>url</em>, <em>args</em><big>)</big><a class="headerlink" href="#src.tornado.httputil.url_concat" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate url and argument dictionary regardless of whether
url has existing query parameters.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">url_concat</span><span class="p">(</span><span class="s">&quot;http://example.com/foo?a=b&quot;</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="s">&quot;d&quot;</span><span class="p">))</span>
<span class="go">&#39;http://example.com/foo?a=b&amp;c=d&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.ioloop">
<span id="ioloop-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">ioloop</span></tt> Module<a class="headerlink" href="#module-src.tornado.ioloop" title="Permalink to this headline">¶</a></h2>
<p>An I/O event loop for non-blocking sockets.</p>
<p>Typical applications will use a single <cite>IOLoop</cite> object, in the
<cite>IOLoop.instance</cite> singleton.  The <cite>IOLoop.start</cite> method should usually
be called at the end of the <tt class="docutils literal"><span class="pre">main()</span></tt> function.  Atypical applications may
use more than one <cite>IOLoop</cite>, such as one <cite>IOLoop</cite> per thread, or per <cite>unittest</cite>
case.</p>
<p>In addition to I/O events, the <cite>IOLoop</cite> can also schedule time-based events.
<cite>IOLoop.add_timeout</cite> is a non-blocking alternative to <cite>time.sleep</cite>.</p>
<dl class="class">
<dt id="src.tornado.ioloop.IOLoop">
<em class="property">class </em><tt class="descclassname">src.tornado.ioloop.</tt><tt class="descname">IOLoop</tt><big>(</big><em>impl=None</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A level-triggered I/O loop.</p>
<p>We use epoll (Linux) or kqueue (BSD and Mac OS X; requires python
2.6+) if they are available, or else we fall back on select(). If
you are implementing a system that needs to handle thousands of
simultaneous connections, you should use a system that supports either
epoll or queue.</p>
<p>Example usage for a simple TCP server:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">errno</span>
<span class="kn">import</span> <span class="nn">functools</span>
<span class="kn">import</span> <span class="nn">ioloop</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="k">def</span> <span class="nf">connection_ready</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">fd</span><span class="p">,</span> <span class="n">events</span><span class="p">):</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">connection</span><span class="p">,</span> <span class="n">address</span> <span class="o">=</span> <span class="n">sock</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span><span class="p">,</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">e</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">errno</span><span class="o">.</span><span class="n">EWOULDBLOCK</span><span class="p">,</span> <span class="n">errno</span><span class="o">.</span><span class="n">EAGAIN</span><span class="p">):</span>
                <span class="k">raise</span>
            <span class="k">return</span>
        <span class="n">connection</span><span class="o">.</span><span class="n">setblocking</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">handle_connection</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span>

<span class="n">sock</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">sock</span><span class="o">.</span><span class="n">setsockopt</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">SOL_SOCKET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SO_REUSEADDR</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sock</span><span class="o">.</span><span class="n">setblocking</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sock</span><span class="o">.</span><span class="n">bind</span><span class="p">((</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">port</span><span class="p">))</span>
<span class="n">sock</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>

<span class="n">io_loop</span> <span class="o">=</span> <span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
<span class="n">callback</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">connection_ready</span><span class="p">,</span> <span class="n">sock</span><span class="p">)</span>
<span class="n">io_loop</span><span class="o">.</span><span class="n">add_handler</span><span class="p">(</span><span class="n">sock</span><span class="o">.</span><span class="n">fileno</span><span class="p">(),</span> <span class="n">callback</span><span class="p">,</span> <span class="n">io_loop</span><span class="o">.</span><span class="n">READ</span><span class="p">)</span>
<span class="n">io_loop</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="src.tornado.ioloop.IOLoop.ERROR">
<tt class="descname">ERROR</tt><em class="property"> = 24</em><a class="headerlink" href="#src.tornado.ioloop.IOLoop.ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="src.tornado.ioloop.IOLoop.NONE">
<tt class="descname">NONE</tt><em class="property"> = 0</em><a class="headerlink" href="#src.tornado.ioloop.IOLoop.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="src.tornado.ioloop.IOLoop.READ">
<tt class="descname">READ</tt><em class="property"> = 1</em><a class="headerlink" href="#src.tornado.ioloop.IOLoop.READ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="src.tornado.ioloop.IOLoop.WRITE">
<tt class="descname">WRITE</tt><em class="property"> = 4</em><a class="headerlink" href="#src.tornado.ioloop.IOLoop.WRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.add_callback">
<tt class="descname">add_callback</tt><big>(</big><em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.add_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the given callback on the next I/O loop iteration.</p>
<p>It is safe to call this method from any thread at any time.
Note that this is the <em>only</em> method in IOLoop that makes this
guarantee; all other interaction with the IOLoop must be done
from that IOLoop&#8217;s thread.  add_callback() may be used to transfer
control from other threads to the IOLoop&#8217;s thread.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.add_handler">
<tt class="descname">add_handler</tt><big>(</big><em>fd</em>, <em>handler</em>, <em>events</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.add_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers the given handler to receive the given events for fd.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.add_timeout">
<tt class="descname">add_timeout</tt><big>(</big><em>deadline</em>, <em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.add_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the given callback at the time deadline from the I/O loop.</p>
<p>Returns a handle that may be passed to remove_timeout to cancel.</p>
<p><tt class="docutils literal"><span class="pre">deadline</span></tt> may be a number denoting a unix timestamp (as returned
by <tt class="docutils literal"><span class="pre">time.time()</span></tt> or a <tt class="docutils literal"><span class="pre">datetime.timedelta</span></tt> object for a deadline
relative to the current time.</p>
<p>Note that it is not safe to call <cite>add_timeout</cite> from other threads.
Instead, you must use <cite>add_callback</cite> to transfer control to the
IOLoop&#8217;s thread, and then call <cite>add_timeout</cite> from there.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.close">
<tt class="descname">close</tt><big>(</big><em>all_fds=False</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the IOLoop, freeing any resources used.</p>
<p>If <tt class="docutils literal"><span class="pre">all_fds</span></tt> is true, all file descriptors registered on the
IOLoop will be closed (not just the ones created by the IOLoop itself).</p>
<p>Many applications will only use a single IOLoop that runs for the
entire lifetime of the process.  In that case closing the IOLoop
is not necessary since everything will be cleaned up when the
process exits.  <cite>IOLoop.close</cite> is provided mainly for scenarios
such as unit tests, which create and destroy a large number of
IOLoops.</p>
<p>An IOLoop must be completely stopped before it can be closed.  This
means that <cite>IOLoop.stop()</cite> must be called <em>and</em> <cite>IOLoop.start()</cite> must
be allowed to return before attempting to call <cite>IOLoop.close()</cite>.
Therefore the call to <cite>close</cite> will usually appear just after
the call to <cite>start</cite> rather than near the call to <cite>stop</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.handle_callback_exception">
<tt class="descname">handle_callback_exception</tt><big>(</big><em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.handle_callback_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called whenever a callback run by the IOLoop
throws an exception.</p>
<p>By default simply logs the exception as an error.  Subclasses
may override this method to customize reporting of exceptions.</p>
<p>The exception itself is not passed explicitly, but is available
in sys.exc_info.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="src.tornado.ioloop.IOLoop.initialized">
<em class="property">static </em><tt class="descname">initialized</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.initialized" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the singleton instance has been created.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.install">
<tt class="descname">install</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Installs this IOloop object as the singleton instance.</p>
<p>This is normally not necessary as <cite>instance()</cite> will create
an IOLoop on demand, but you may want to call <cite>install</cite> to use
a custom subclass of IOLoop.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="src.tornado.ioloop.IOLoop.instance">
<em class="property">static </em><tt class="descname">instance</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a global IOLoop instance.</p>
<p>Most single-threaded applications have a single, global IOLoop.
Use this method instead of passing around IOLoop instances
throughout your code.</p>
<p>A common pattern for classes that depend on IOLoops is to use
a default argument to enable programs with multiple IOLoops
but not require the argument for simpler applications:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">io_loop</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">io_loop</span> <span class="o">=</span> <span class="n">io_loop</span> <span class="ow">or</span> <span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.log_stack">
<tt class="descname">log_stack</tt><big>(</big><em>signal</em>, <em>frame</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.log_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Signal handler to log the stack trace of the current thread.</p>
<p>For use with set_blocking_signal_threshold.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.remove_handler">
<tt class="descname">remove_handler</tt><big>(</big><em>fd</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.remove_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop listening for events on fd.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.remove_timeout">
<tt class="descname">remove_timeout</tt><big>(</big><em>timeout</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.remove_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancels a pending timeout.</p>
<p>The argument is a handle as returned by add_timeout.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.running">
<tt class="descname">running</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.running" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if this IOLoop is currently running.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.set_blocking_log_threshold">
<tt class="descname">set_blocking_log_threshold</tt><big>(</big><em>seconds</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.set_blocking_log_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs a stack trace if the ioloop is blocked for more than s seconds.
Equivalent to set_blocking_signal_threshold(seconds, self.log_stack)</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.set_blocking_signal_threshold">
<tt class="descname">set_blocking_signal_threshold</tt><big>(</big><em>seconds</em>, <em>action</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.set_blocking_signal_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a signal if the ioloop is blocked for more than s seconds.</p>
<p>Pass seconds=None to disable.  Requires python 2.6 on a unixy
platform.</p>
<p>The action parameter is a python signal handler.  Read the
documentation for the python &#8216;signal&#8217; module for more information.
If action is None, the process will be killed if it is blocked for
too long.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the I/O loop.</p>
<p>The loop will run until one of the I/O handlers calls stop(), which
will make the loop stop after the current event iteration completes.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the loop after the current event loop iteration is complete.
If the event loop is not currently running, the next call to start()
will return immediately.</p>
<p>To use asynchronous methods from otherwise-synchronous code (such as
unit tests), you can start and stop the event loop like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ioloop</span> <span class="o">=</span> <span class="n">IOLoop</span><span class="p">()</span>
<span class="n">async_method</span><span class="p">(</span><span class="n">ioloop</span><span class="o">=</span><span class="n">ioloop</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="n">ioloop</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>ioloop.start() will return after async_method has run its callback,
whether that callback was invoked before or after ioloop.start.</p>
<p>Note that even after <cite>stop</cite> has been called, the IOLoop is not
completely stopped until <cite>IOLoop.start</cite> has also returned.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.IOLoop.update_handler">
<tt class="descname">update_handler</tt><big>(</big><em>fd</em>, <em>events</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.IOLoop.update_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the events we listen for fd.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.ioloop.PeriodicCallback">
<em class="property">class </em><tt class="descclassname">src.tornado.ioloop.</tt><tt class="descname">PeriodicCallback</tt><big>(</big><em>callback</em>, <em>callback_time</em>, <em>io_loop=None</em><big>)</big><a class="headerlink" href="#src.tornado.ioloop.PeriodicCallback" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Schedules the given callback to be called periodically.</p>
<p>The callback is called every callback_time milliseconds.</p>
<p><cite>start</cite> must be called after the PeriodicCallback is created.</p>
<dl class="method">
<dt id="src.tornado.ioloop.PeriodicCallback.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.PeriodicCallback.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts the timer.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.ioloop.PeriodicCallback.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.ioloop.PeriodicCallback.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the timer.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.tornado.iostream">
<span id="iostream-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">iostream</span></tt> Module<a class="headerlink" href="#module-src.tornado.iostream" title="Permalink to this headline">¶</a></h2>
<p>A utility class to write to and read from a non-blocking socket.</p>
<dl class="class">
<dt id="src.tornado.iostream.IOStream">
<em class="property">class </em><tt class="descclassname">src.tornado.iostream.</tt><tt class="descname">IOStream</tt><big>(</big><em>socket</em>, <em>io_loop=None</em>, <em>max_buffer_size=104857600</em>, <em>read_chunk_size=4096</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A utility class to write to and read from a non-blocking socket.</p>
<p>We support a non-blocking <tt class="docutils literal"><span class="pre">write()</span></tt> and a family of <tt class="docutils literal"><span class="pre">read_*()</span></tt> methods.
All of the methods take callbacks (since writing and reading are
non-blocking and asynchronous).</p>
<p>The socket parameter may either be connected or unconnected.  For
server operations the socket is the result of calling socket.accept().
For client operations the socket is created with socket.socket(),
and may either be connected before passing it to the IOStream or
connected with IOStream.connect.</p>
<p>When a stream is closed due to an error, the IOStream&#8217;s <cite>error</cite>
attribute contains the exception object.</p>
<p>A very simple (and broken) HTTP client using this class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">tornado</span> <span class="kn">import</span> <span class="n">ioloop</span>
<span class="kn">from</span> <span class="nn">tornado</span> <span class="kn">import</span> <span class="n">iostream</span>
<span class="kn">import</span> <span class="nn">socket</span>

<span class="k">def</span> <span class="nf">send_request</span><span class="p">():</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;GET / HTTP/1.0</span><span class="se">\r\n</span><span class="s">Host: friendfeed.com</span><span class="se">\r\n\r\n</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">read_until</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\r\n\r\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">on_headers</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_headers</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\r\n</span><span class="s">&quot;</span><span class="p">):</span>
       <span class="n">parts</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;:&quot;</span><span class="p">)</span>
       <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
           <span class="n">headers</span><span class="p">[</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()]</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">headers</span><span class="p">[</span><span class="s">&quot;Content-Length&quot;</span><span class="p">]),</span> <span class="n">on_body</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_body</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">data</span>
    <span class="n">stream</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">stream</span> <span class="o">=</span> <span class="n">iostream</span><span class="o">.</span><span class="n">IOStream</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">stream</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="s">&quot;friendfeed.com&quot;</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span> <span class="n">send_request</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="src.tornado.iostream.IOStream.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close this stream.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.closed">
<tt class="descname">closed</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the stream has been closed.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.connect">
<tt class="descname">connect</tt><big>(</big><em>address</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.connect" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects the socket to a remote address without blocking.</p>
<p>May only be called if the socket passed to the constructor was
not previously connected.  The address parameter is in the
same format as for socket.connect, i.e. a (host, port) tuple.
If callback is specified, it will be called when the
connection is completed.</p>
<p>Note that it is safe to call IOStream.write while the
connection is pending, in which case the data will be written
as soon as the connection is ready.  Calling IOStream read
methods before the socket is connected works on some platforms
but is non-portable.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.read_bytes">
<tt class="descname">read_bytes</tt><big>(</big><em>num_bytes</em>, <em>callback</em>, <em>streaming_callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.read_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Call callback when we read the given number of bytes.</p>
<p>If a <tt class="docutils literal"><span class="pre">streaming_callback</span></tt> is given, it will be called with chunks
of data as they become available, and the argument to the final
<tt class="docutils literal"><span class="pre">callback</span></tt> will be empty.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.read_until">
<tt class="descname">read_until</tt><big>(</big><em>delimiter</em>, <em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.read_until" title="Permalink to this definition">¶</a></dt>
<dd><p>Call callback when we read the given delimiter.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.read_until_close">
<tt class="descname">read_until_close</tt><big>(</big><em>callback</em>, <em>streaming_callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.read_until_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all data from the socket until it is closed.</p>
<p>If a <tt class="docutils literal"><span class="pre">streaming_callback</span></tt> is given, it will be called with chunks
of data as they become available, and the argument to the final
<tt class="docutils literal"><span class="pre">callback</span></tt> will be empty.</p>
<p>Subject to <tt class="docutils literal"><span class="pre">max_buffer_size</span></tt> limit from <cite>IOStream</cite> constructor if
a <tt class="docutils literal"><span class="pre">streaming_callback</span></tt> is not used.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.read_until_regex">
<tt class="descname">read_until_regex</tt><big>(</big><em>regex</em>, <em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.read_until_regex" title="Permalink to this definition">¶</a></dt>
<dd><p>Call callback when we read the given regex pattern.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.reading">
<tt class="descname">reading</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.reading" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if we are currently reading from the stream.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.set_close_callback">
<tt class="descname">set_close_callback</tt><big>(</big><em>callback</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.set_close_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the given callback when the stream is closed.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.write">
<tt class="descname">write</tt><big>(</big><em>data</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the given data to this stream.</p>
<p>If callback is given, we call it when all of the buffered write
data has been successfully written to the stream. If there was
previously buffered write data and an old write callback, that
callback is simply overwritten with this new callback.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.IOStream.writing">
<tt class="descname">writing</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.IOStream.writing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if we are currently writing to the stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.iostream.SSLIOStream">
<em class="property">class </em><tt class="descclassname">src.tornado.iostream.</tt><tt class="descname">SSLIOStream</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.iostream.SSLIOStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.iostream.IOStream" title="src.tornado.iostream.IOStream"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.iostream.IOStream</span></tt></a></p>
<p>A utility class to write to and read from a non-blocking SSL socket.</p>
<p>If the socket passed to the constructor is already connected,
it should be wrapped with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ssl</span><span class="o">.</span><span class="n">wrap_socket</span><span class="p">(</span><span class="n">sock</span><span class="p">,</span> <span class="n">do_handshake_on_connect</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>before constructing the SSLIOStream.  Unconnected sockets will be
wrapped when IOStream.connect is finished.</p>
<dl class="method">
<dt id="src.tornado.iostream.SSLIOStream.reading">
<tt class="descname">reading</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.SSLIOStream.reading" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.iostream.SSLIOStream.writing">
<tt class="descname">writing</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.SSLIOStream.writing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.iostream.doctests">
<tt class="descclassname">src.tornado.iostream.</tt><tt class="descname">doctests</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.iostream.doctests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-src.tornado.locale">
<span id="locale-module"></span><h2><a class="reference external" href="http://docs.python.org/library/locale.html#locale" title="(in Python v2.7)"><tt class="xref py py-mod docutils literal"><span class="pre">locale</span></tt></a> Module<a class="headerlink" href="#module-src.tornado.locale" title="Permalink to this headline">¶</a></h2>
<p>Translation methods for generating localized strings.</p>
<p>To load a locale and generate a translated string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">user_locale</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;es_LA&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">user_locale</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s">&quot;Sign out&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>locale.get() returns the closest matching locale, not necessarily the
specific locale you requested. You can support pluralization with
additional arguments to translate(), e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">people</span> <span class="o">=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">user_locale</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span>
    <span class="s">&quot;</span><span class="si">%(list)s</span><span class="s"> is online&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%(list)s</span><span class="s"> are online&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">people</span><span class="p">))</span>
<span class="k">print</span> <span class="n">message</span> <span class="o">%</span> <span class="p">{</span><span class="s">&quot;list&quot;</span><span class="p">:</span> <span class="n">user_locale</span><span class="o">.</span><span class="n">list</span><span class="p">(</span><span class="n">people</span><span class="p">)}</span>
</pre></div>
</div>
<p>The first string is chosen if len(people) == 1, otherwise the second
string is chosen.</p>
<p>Applications should call one of load_translations (which uses a simple
CSV format) or load_gettext_translations (which uses the .mo format
supported by gettext and related tools).  If neither method is called,
the locale.translate method will simply return the original string.</p>
<dl class="class">
<dt id="src.tornado.locale.CSVLocale">
<em class="property">class </em><tt class="descclassname">src.tornado.locale.</tt><tt class="descname">CSVLocale</tt><big>(</big><em>code</em>, <em>translations</em><big>)</big><a class="headerlink" href="#src.tornado.locale.CSVLocale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.locale.Locale" title="src.tornado.locale.Locale"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.locale.Locale</span></tt></a></p>
<p>Locale implementation using tornado&#8217;s CSV translation format.</p>
<dl class="method">
<dt id="src.tornado.locale.CSVLocale.translate">
<tt class="descname">translate</tt><big>(</big><em>message</em>, <em>plural_message=None</em>, <em>count=None</em><big>)</big><a class="headerlink" href="#src.tornado.locale.CSVLocale.translate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.locale.GettextLocale">
<em class="property">class </em><tt class="descclassname">src.tornado.locale.</tt><tt class="descname">GettextLocale</tt><big>(</big><em>code</em>, <em>translations</em><big>)</big><a class="headerlink" href="#src.tornado.locale.GettextLocale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.locale.Locale" title="src.tornado.locale.Locale"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.locale.Locale</span></tt></a></p>
<p>Locale implementation using the gettext module.</p>
<dl class="method">
<dt id="src.tornado.locale.GettextLocale.translate">
<tt class="descname">translate</tt><big>(</big><em>message</em>, <em>plural_message=None</em>, <em>count=None</em><big>)</big><a class="headerlink" href="#src.tornado.locale.GettextLocale.translate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.locale.Locale">
<em class="property">class </em><tt class="descclassname">src.tornado.locale.</tt><tt class="descname">Locale</tt><big>(</big><em>code</em>, <em>translations</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Object representing a locale.</p>
<p>After calling one of <cite>load_translations</cite> or <cite>load_gettext_translations</cite>,
call <cite>get</cite> or <cite>get_closest</cite> to get a Locale object.</p>
<dl class="method">
<dt id="src.tornado.locale.Locale.format_date">
<tt class="descname">format_date</tt><big>(</big><em>date</em>, <em>gmt_offset=0</em>, <em>relative=True</em>, <em>shorter=False</em>, <em>full_format=False</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.format_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats the given date (which should be GMT).</p>
<p>By default, we return a relative time (e.g., &#8220;2 minutes ago&#8221;). You
can return an absolute date string with relative=False.</p>
<p>You can force a full format date (&#8220;July 10, 1980&#8221;) with
full_format=True.</p>
<p>This method is primarily intended for dates in the past.
For dates in the future, we fall back to full format.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.locale.Locale.format_day">
<tt class="descname">format_day</tt><big>(</big><em>date</em>, <em>gmt_offset=0</em>, <em>dow=True</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.format_day" title="Permalink to this definition">¶</a></dt>
<dd><p>Formats the given date as a day of week.</p>
<p>Example: &#8220;Monday, January 22&#8221;. You can remove the day of week with
dow=False.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.locale.Locale.friendly_number">
<tt class="descname">friendly_number</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.friendly_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a comma-separated number for the given integer.</p>
</dd></dl>

<dl class="classmethod">
<dt id="src.tornado.locale.Locale.get">
<em class="property">classmethod </em><tt class="descname">get</tt><big>(</big><em>code</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Locale for the given locale code.</p>
<p>If it is not supported, we raise an exception.</p>
</dd></dl>

<dl class="classmethod">
<dt id="src.tornado.locale.Locale.get_closest">
<em class="property">classmethod </em><tt class="descname">get_closest</tt><big>(</big><em>*locale_codes</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.get_closest" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the closest match for the given locale code.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.locale.Locale.list">
<tt class="descname">list</tt><big>(</big><em>parts</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a comma-separated list for the given list of parts.</p>
<p>The format is, e.g., &#8220;A, B and C&#8221;, &#8220;A and B&#8221; or just &#8220;A&#8221; for lists
of size 1.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.locale.Locale.translate">
<tt class="descname">translate</tt><big>(</big><em>message</em>, <em>plural_message=None</em>, <em>count=None</em><big>)</big><a class="headerlink" href="#src.tornado.locale.Locale.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the translation for the given message for this locale.</p>
<p>If plural_message is given, you must also provide count. We return
plural_message when count != 1, and we return the singular form
for the given message when count == 1.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.locale.get">
<tt class="descclassname">src.tornado.locale.</tt><tt class="descname">get</tt><big>(</big><em>*locale_codes</em><big>)</big><a class="headerlink" href="#src.tornado.locale.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the closest match for the given locale codes.</p>
<p>We iterate over all given locale codes in order. If we have a tight
or a loose match for the code (e.g., &#8220;en&#8221; for &#8220;en_US&#8221;), we return
the locale. Otherwise we move to the next code in the list.</p>
<p>By default we return en_US if no translations are found for any of
the specified locales. You can change the default locale with
set_default_locale() below.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.locale.get_supported_locales">
<tt class="descclassname">src.tornado.locale.</tt><tt class="descname">get_supported_locales</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.locale.get_supported_locales" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the supported locale codes.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.locale.load_gettext_translations">
<tt class="descclassname">src.tornado.locale.</tt><tt class="descname">load_gettext_translations</tt><big>(</big><em>directory</em>, <em>domain</em><big>)</big><a class="headerlink" href="#src.tornado.locale.load_gettext_translations" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads translations from gettext&#8217;s locale tree</p>
<p>Locale tree is similar to system&#8217;s /usr/share/locale, like:</p>
<p>{directory}/{lang}/LC_MESSAGES/{domain}.mo</p>
<p>Three steps are required to have you app translated:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>Generate POT translation file</dt>
<dd><p class="first last">xgettext &#8211;language=Python &#8211;keyword=_:1,2 -d cyclone file1.py file2.html etc</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Merge against existing POT file:</dt>
<dd><p class="first last">msgmerge old.po cyclone.po &gt; new.po</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Compile:</dt>
<dd><p class="first last">msgfmt cyclone.po -o {directory}/pt_BR/LC_MESSAGES/cyclone.mo</p>
</dd>
</dl>
</li>
</ol>
</dd></dl>

<dl class="function">
<dt id="src.tornado.locale.load_translations">
<tt class="descclassname">src.tornado.locale.</tt><tt class="descname">load_translations</tt><big>(</big><em>directory</em><big>)</big><a class="headerlink" href="#src.tornado.locale.load_translations" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads translations from CSV files in a directory.</p>
<p>Translations are strings with optional Python-style named placeholders
(e.g., &#8220;My name is %(name)s&#8221;) and their associated translations.</p>
<p>The directory should have translation files of the form LOCALE.csv,
e.g. es_GT.csv. The CSV files should have two or three columns: string,
translation, and an optional plural indicator. Plural indicators should
be one of &#8220;plural&#8221; or &#8220;singular&#8221;. A given string can have both singular
and plural forms. For example &#8220;%(name)s liked this&#8221; may have a
different verb conjugation depending on whether %(name)s is one
name or a list of names. There should be two rows in the CSV file for
that string, one with plural indicator &#8220;singular&#8221;, and one &#8220;plural&#8221;.
For strings with no verbs that would change on translation, simply
use &#8220;unknown&#8221; or the empty string (or don&#8217;t include the column at all).</p>
<p>The file is read using the csv module in the default &#8220;excel&#8221; dialect.
In this format there should not be spaces after the commas.</p>
<p>Example translation es_LA.csv:</p>
<blockquote>
<div>&#8220;I love you&#8221;,&#8221;Te amo&#8221;
&#8220;%(name)s liked this&#8221;,&#8221;A %(name)s les gustó esto&#8221;,&#8221;plural&#8221;
&#8220;%(name)s liked this&#8221;,&#8221;A %(name)s le gustó esto&#8221;,&#8221;singular&#8221;</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="src.tornado.locale.set_default_locale">
<tt class="descclassname">src.tornado.locale.</tt><tt class="descname">set_default_locale</tt><big>(</big><em>code</em><big>)</big><a class="headerlink" href="#src.tornado.locale.set_default_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the default locale, used in get_closest_locale().</p>
<p>The default locale is assumed to be the language used for all strings
in the system. The translations loaded from disk are mappings from
the default locale to the destination locale. Consequently, you don&#8217;t
need to create a translation file for the default locale.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.netutil">
<span id="netutil-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">netutil</span></tt> Module<a class="headerlink" href="#module-src.tornado.netutil" title="Permalink to this headline">¶</a></h2>
<p>Miscellaneous network utility code.</p>
<dl class="class">
<dt id="src.tornado.netutil.TCPServer">
<em class="property">class </em><tt class="descclassname">src.tornado.netutil.</tt><tt class="descname">TCPServer</tt><big>(</big><em>io_loop=None</em>, <em>ssl_options=None</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A non-blocking, single-threaded TCP server.</p>
<p>To use <cite>TCPServer</cite>, define a subclass which overrides the <cite>handle_stream</cite>
method.</p>
<p><cite>TCPServer</cite> can serve SSL traffic with Python 2.6+ and OpenSSL.
To make this server serve SSL traffic, send the ssl_options dictionary
argument with the arguments required for the <cite>ssl.wrap_socket</cite> method,
including &#8220;certfile&#8221; and &#8220;keyfile&#8221;:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">TCPServer</span><span class="p">(</span><span class="n">ssl_options</span><span class="o">=</span><span class="p">{</span>
    <span class="s">&quot;certfile&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s">&quot;mydomain.crt&quot;</span><span class="p">),</span>
    <span class="s">&quot;keyfile&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_dir</span><span class="p">,</span> <span class="s">&quot;mydomain.key&quot;</span><span class="p">),</span>
<span class="p">})</span>
</pre></div>
</div>
<p><cite>TCPServer</cite> initialization follows one of three patterns:</p>
<ol class="arabic">
<li><p class="first"><cite>listen</cite>: simple single-process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">TCPServer</span><span class="p">()</span>
<span class="n">server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first"><cite>bind</cite>/<cite>start</cite>: simple multi-process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="n">TCPServer</span><span class="p">()</span>
<span class="n">server</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">server</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c"># Forks multiple sub-processes</span>
<span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>When using this interface, an <cite>IOLoop</cite> must <em>not</em> be passed
to the <cite>TCPServer</cite> constructor.  <cite>start</cite> will always start
the server on the default singleton <cite>IOLoop</cite>.</p>
</li>
<li><p class="first"><cite>add_sockets</cite>: advanced multi-process:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sockets</span> <span class="o">=</span> <span class="n">bind_sockets</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">tornado</span><span class="o">.</span><span class="n">process</span><span class="o">.</span><span class="n">fork_processes</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">TCPServer</span><span class="p">()</span>
<span class="n">server</span><span class="o">.</span><span class="n">add_sockets</span><span class="p">(</span><span class="n">sockets</span><span class="p">)</span>
<span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The <cite>add_sockets</cite> interface is more complicated, but it can be
used with <cite>tornado.process.fork_processes</cite> to give you more
flexibility in when the fork happens.  <cite>add_sockets</cite> can
also be used in single-process servers if you want to create
your listening sockets in some way other than
<cite>bind_sockets</cite>.</p>
</li>
</ol>
<dl class="method">
<dt id="src.tornado.netutil.TCPServer.add_socket">
<tt class="descname">add_socket</tt><big>(</big><em>socket</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.add_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Singular version of <cite>add_sockets</cite>.  Takes a single socket object.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.netutil.TCPServer.add_sockets">
<tt class="descname">add_sockets</tt><big>(</big><em>sockets</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.add_sockets" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes this server start accepting connections on the given sockets.</p>
<p>The <tt class="docutils literal"><span class="pre">sockets</span></tt> parameter is a list of socket objects such as
those returned by <cite>bind_sockets</cite>.
<cite>add_sockets</cite> is typically used in combination with that
method and <cite>tornado.process.fork_processes</cite> to provide greater
control over the initialization of a multi-process server.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.netutil.TCPServer.bind">
<tt class="descname">bind</tt><big>(</big><em>port</em>, <em>address=None</em>, <em>family=0</em>, <em>backlog=128</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds this server to the given port on the given address.</p>
<p>To start the server, call <cite>start</cite>. If you want to run this server
in a single process, you can call <cite>listen</cite> as a shortcut to the
sequence of <cite>bind</cite> and <cite>start</cite> calls.</p>
<p>Address may be either an IP address or hostname.  If it&#8217;s a hostname,
the server will listen on all IP addresses associated with the
name.  Address may be an empty string or None to listen on all
available interfaces.  Family may be set to either <tt class="docutils literal"><span class="pre">socket.AF_INET</span></tt>
or <tt class="docutils literal"><span class="pre">socket.AF_INET6</span></tt> to restrict to ipv4 or ipv6 addresses, otherwise
both will be used if available.</p>
<p>The <tt class="docutils literal"><span class="pre">backlog</span></tt> argument has the same meaning as for
<cite>socket.listen</cite>.</p>
<p>This method may be called multiple times prior to <cite>start</cite> to listen
on multiple ports or interfaces.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.netutil.TCPServer.handle_stream">
<tt class="descname">handle_stream</tt><big>(</big><em>stream</em>, <em>address</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.handle_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to handle a new <cite>IOStream</cite> from an incoming connection.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.netutil.TCPServer.listen">
<tt class="descname">listen</tt><big>(</big><em>port</em>, <em>address=''</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts accepting connections on the given port.</p>
<p>This method may be called more than once to listen on multiple ports.
<cite>listen</cite> takes effect immediately; it is not necessary to call
<cite>TCPServer.start</cite> afterwards.  It is, however, necessary to start
the <cite>IOLoop</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.netutil.TCPServer.start">
<tt class="descname">start</tt><big>(</big><em>num_processes=1</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts this server in the IOLoop.</p>
<p>By default, we run the server in this process and do not fork any
additional child process.</p>
<p>If num_processes is <tt class="docutils literal"><span class="pre">None</span></tt> or &lt;= 0, we detect the number of cores
available on this machine and fork that number of child
processes. If num_processes is given and &gt; 1, we fork that
specific number of sub-processes.</p>
<p>Since we use processes and not threads, there is no shared memory
between any server code.</p>
<p>Note that multiple processes are not compatible with the autoreload
module (or the <tt class="docutils literal"><span class="pre">debug=True</span></tt> option to <cite>tornado.web.Application</cite>).
When using multiple processes, no IOLoops can be created or
referenced until after the call to <tt class="docutils literal"><span class="pre">TCPServer.start(n)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.netutil.TCPServer.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.netutil.TCPServer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops listening for new connections.</p>
<p>Requests currently in progress may still continue after the
server is stopped.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.netutil.add_accept_handler">
<tt class="descclassname">src.tornado.netutil.</tt><tt class="descname">add_accept_handler</tt><big>(</big><em>sock</em>, <em>callback</em>, <em>io_loop=None</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.add_accept_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an <tt class="docutils literal"><span class="pre">IOLoop</span></tt> event handler to accept new connections on <tt class="docutils literal"><span class="pre">sock</span></tt>.</p>
<p>When a connection is accepted, <tt class="docutils literal"><span class="pre">callback(connection,</span> <span class="pre">address)</span></tt> will
be run (<tt class="docutils literal"><span class="pre">connection</span></tt> is a socket object, and <tt class="docutils literal"><span class="pre">address</span></tt> is the
address of the other end of the connection).  Note that this signature
is different from the <tt class="docutils literal"><span class="pre">callback(fd,</span> <span class="pre">events)</span></tt> signature used for
<tt class="docutils literal"><span class="pre">IOLoop</span></tt> handlers.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.netutil.bind_sockets">
<tt class="descclassname">src.tornado.netutil.</tt><tt class="descname">bind_sockets</tt><big>(</big><em>port</em>, <em>address=None</em>, <em>family=0</em>, <em>backlog=128</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.bind_sockets" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates listening sockets bound to the given port and address.</p>
<p>Returns a list of socket objects (multiple sockets are returned if
the given address maps to multiple IP addresses, which is most common
for mixed IPv4 and IPv6 use).</p>
<p>Address may be either an IP address or hostname.  If it&#8217;s a hostname,
the server will listen on all IP addresses associated with the
name.  Address may be an empty string or None to listen on all
available interfaces.  Family may be set to either socket.AF_INET
or socket.AF_INET6 to restrict to ipv4 or ipv6 addresses, otherwise
both will be used if available.</p>
<p>The <tt class="docutils literal"><span class="pre">backlog</span></tt> argument has the same meaning as for
<tt class="docutils literal"><span class="pre">socket.listen()</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.netutil.bind_unix_socket">
<tt class="descclassname">src.tornado.netutil.</tt><tt class="descname">bind_unix_socket</tt><big>(</big><em>file</em>, <em>mode=384</em>, <em>backlog=128</em><big>)</big><a class="headerlink" href="#src.tornado.netutil.bind_unix_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a listening unix socket.</p>
<p>If a socket with the given name already exists, it will be deleted.
If any other file with that name exists, an exception will be
raised.</p>
<p>Returns a socket object (not a list of socket objects like
<cite>bind_sockets</cite>)</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.options">
<span id="options-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">options</span></tt> Module<a class="headerlink" href="#module-src.tornado.options" title="Permalink to this headline">¶</a></h2>
<p>A command line parsing module that lets modules define their own options.</p>
<p>Each module defines its own options, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">tornado.options</span> <span class="kn">import</span> <span class="n">define</span><span class="p">,</span> <span class="n">options</span>

<span class="n">define</span><span class="p">(</span><span class="s">&quot;mysql_host&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&quot;127.0.0.1:3306&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">&quot;Main user DB&quot;</span><span class="p">)</span>
<span class="n">define</span><span class="p">(</span><span class="s">&quot;memcache_hosts&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&quot;127.0.0.1:11011&quot;</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
       <span class="n">help</span><span class="o">=</span><span class="s">&quot;Main user memcache servers&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">connect</span><span class="p">():</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">database</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">mysql_host</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The main() method of your application does not need to be aware of all of
the options used throughout your program; they are all automatically loaded
when the modules are loaded. Your main() method can parse the command line
or parse a config file with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">tornado.options</span>
<span class="n">tornado</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">parse_config_file</span><span class="p">(</span><span class="s">&quot;/etc/server.conf&quot;</span><span class="p">)</span>
<span class="n">tornado</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">parse_command_line</span><span class="p">()</span>
</pre></div>
</div>
<p>Command line formats are what you would expect (&#8220;&#8211;myoption=myvalue&#8221;).
Config files are just Python files. Global names become options, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">myoption</span> <span class="o">=</span> <span class="s">&quot;myvalue&quot;</span>
<span class="n">myotheroption</span> <span class="o">=</span> <span class="s">&quot;myothervalue&quot;</span>
</pre></div>
</div>
<p>We support datetimes, timedeltas, ints, and floats (just pass a &#8216;type&#8217;
kwarg to define). We also accept multi-value options. See the documentation
for define() below.</p>
<dl class="exception">
<dt id="src.tornado.options.Error">
<em class="property">exception </em><tt class="descclassname">src.tornado.options.</tt><tt class="descname">Error</tt><a class="headerlink" href="#src.tornado.options.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Exception raised by errors in the options module.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.options.define">
<tt class="descclassname">src.tornado.options.</tt><tt class="descname">define</tt><big>(</big><em>name</em>, <em>default=None</em>, <em>type=None</em>, <em>help=None</em>, <em>metavar=None</em>, <em>multiple=False</em>, <em>group=None</em><big>)</big><a class="headerlink" href="#src.tornado.options.define" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines a new command line option.</p>
<p>If type is given (one of str, float, int, datetime, or timedelta)
or can be inferred from the default, we parse the command line
arguments based on the given type. If multiple is True, we accept
comma-separated values, and the option value is always a list.</p>
<p>For multi-value integers, we also accept the syntax x:y, which
turns into range(x, y) - very useful for long integer ranges.</p>
<p>help and metavar are used to construct the automatically generated
command line help string. The help message is formatted like:</p>
<div class="highlight-python"><pre>--name=METAVAR      help string</pre>
</div>
<p>group is used to group the defined options in logical groups. By default,
command line options are grouped by the defined file.</p>
<p>Command line option names must be unique globally. They can be parsed
from the command line with parse_command_line() or parsed from a
config file with parse_config_file.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.options.enable_pretty_logging">
<tt class="descclassname">src.tornado.options.</tt><tt class="descname">enable_pretty_logging</tt><big>(</big><em>options={'log_file_num_backups': &lt;src.tornado.options._Option object at 0x6ef53d0&gt;</em>, <em>'logging': &lt;src.tornado.options._Option object at 0x6ef5290&gt;</em>, <em>'help': &lt;src.tornado.options._Option object at 0x6ef5210&gt;</em>, <em>'log_to_stderr': &lt;src.tornado.options._Option object at 0x6ef52d0&gt;</em>, <em>'log_file_max_size': &lt;src.tornado.options._Option object at 0x6ef5390&gt;</em>, <em>'log_file_prefix': &lt;src.tornado.options._Option object at 0x6ef5310&gt;}</em><big>)</big><a class="headerlink" href="#src.tornado.options.enable_pretty_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns on formatted logging output as configured.</p>
<p>This is called automatically by <cite>parse_command_line</cite>.</p>
</dd></dl>

<dl class="data">
<dt id="src.tornado.options.options">
<tt class="descclassname">src.tornado.options.</tt><tt class="descname">options</tt><em class="property"> = {'log_file_num_backups': &lt;src.tornado.options._Option object at 0x6ef53d0&gt;, 'logging': &lt;src.tornado.options._Option object at 0x6ef5290&gt;, 'help': &lt;src.tornado.options._Option object at 0x6ef5210&gt;, 'log_to_stderr': &lt;src.tornado.options._Option object at 0x6ef52d0&gt;, 'log_file_max_size': &lt;src.tornado.options._Option object at 0x6ef5390&gt;, 'log_file_prefix': &lt;src.tornado.options._Option object at 0x6ef5310&gt;}</em><a class="headerlink" href="#src.tornado.options.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Global options dictionary.</p>
<p>Supports both attribute-style and dict-style access.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.options.parse_command_line">
<tt class="descclassname">src.tornado.options.</tt><tt class="descname">parse_command_line</tt><big>(</big><em>args=None</em><big>)</big><a class="headerlink" href="#src.tornado.options.parse_command_line" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses all options given on the command line (defaults to sys.argv).</p>
<p>Note that args[0] is ignored since it is the program name in sys.argv.</p>
<p>We return a list of all arguments that are not parsed as options.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.options.parse_config_file">
<tt class="descclassname">src.tornado.options.</tt><tt class="descname">parse_config_file</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#src.tornado.options.parse_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses and loads the Python config file at the given path.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.options.print_help">
<tt class="descclassname">src.tornado.options.</tt><tt class="descname">print_help</tt><big>(</big><em>file=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x7f5961edc1e0&gt;</em><big>)</big><a class="headerlink" href="#src.tornado.options.print_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints all the command line options to stdout.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.process">
<span id="process-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">process</span></tt> Module<a class="headerlink" href="#module-src.tornado.process" title="Permalink to this headline">¶</a></h2>
<p>Utilities for working with multiple processes.</p>
<dl class="function">
<dt id="src.tornado.process.cpu_count">
<tt class="descclassname">src.tornado.process.</tt><tt class="descname">cpu_count</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.process.cpu_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of processors on this machine.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.process.fork_processes">
<tt class="descclassname">src.tornado.process.</tt><tt class="descname">fork_processes</tt><big>(</big><em>num_processes</em>, <em>max_restarts=100</em><big>)</big><a class="headerlink" href="#src.tornado.process.fork_processes" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts multiple worker processes.</p>
<p>If <tt class="docutils literal"><span class="pre">num_processes</span></tt> is None or &lt;= 0, we detect the number of cores
available on this machine and fork that number of child
processes. If <tt class="docutils literal"><span class="pre">num_processes</span></tt> is given and &gt; 0, we fork that
specific number of sub-processes.</p>
<p>Since we use processes and not threads, there is no shared memory
between any server code.</p>
<p>Note that multiple processes are not compatible with the autoreload
module (or the debug=True option to <cite>tornado.web.Application</cite>).
When using multiple processes, no IOLoops can be created or
referenced until after the call to <tt class="docutils literal"><span class="pre">fork_processes</span></tt>.</p>
<p>In each child process, <tt class="docutils literal"><span class="pre">fork_processes</span></tt> returns its <em>task id</em>, a
number between 0 and <tt class="docutils literal"><span class="pre">num_processes</span></tt>.  Processes that exit
abnormally (due to a signal or non-zero exit status) are restarted
with the same id (up to <tt class="docutils literal"><span class="pre">max_restarts</span></tt> times).  In the parent
process, <tt class="docutils literal"><span class="pre">fork_processes</span></tt> returns None if all child processes
have exited normally, but will otherwise only exit by throwing an
exception.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.process.task_id">
<tt class="descclassname">src.tornado.process.</tt><tt class="descname">task_id</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.process.task_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current task id, if any.</p>
<p>Returns None if this process was not created by <cite>fork_processes</cite>.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.simple_httpclient">
<span id="simple-httpclient-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">simple_httpclient</span></tt> Module<a class="headerlink" href="#module-src.tornado.simple_httpclient" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="src.tornado.simple_httpclient.CertificateError">
<em class="property">exception </em><tt class="descclassname">src.tornado.simple_httpclient.</tt><tt class="descname">CertificateError</tt><a class="headerlink" href="#src.tornado.simple_httpclient.CertificateError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.ValueError</span></tt></p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.simple_httpclient.SimpleAsyncHTTPClient">
<em class="property">class </em><tt class="descclassname">src.tornado.simple_httpclient.</tt><tt class="descname">SimpleAsyncHTTPClient</tt><a class="headerlink" href="#src.tornado.simple_httpclient.SimpleAsyncHTTPClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.httpclient.AsyncHTTPClient</span></tt></p>
<p>Non-blocking HTTP client with no external dependencies.</p>
<p>This class implements an HTTP 1.1 client on top of Tornado&#8217;s IOStreams.
It does not currently implement all applicable parts of the HTTP
specification, but it does enough to work with major web service APIs
(mostly tested against the Twitter API so far).</p>
<p>This class has not been tested extensively in production and
should be considered somewhat experimental as of the release of
tornado 1.2.  It is intended to become the default AsyncHTTPClient
implementation in a future release.  It may either be used
directly, or to facilitate testing of this class with an existing
application, setting the environment variable
USE_SIMPLE_HTTPCLIENT=1 will cause this class to transparently
replace tornado.httpclient.AsyncHTTPClient.</p>
<p>Some features found in the curl-based AsyncHTTPClient are not yet
supported.  In particular, proxies are not supported, connections
are not reused, and callers cannot select the network interface to be
used.</p>
<p>Python 2.6 or higher is required for HTTPS support.  Users of Python 2.5
should use the curl-based AsyncHTTPClient if HTTPS support is required.</p>
<dl class="method">
<dt id="src.tornado.simple_httpclient.SimpleAsyncHTTPClient.fetch">
<tt class="descname">fetch</tt><big>(</big><em>request</em>, <em>callback</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.simple_httpclient.SimpleAsyncHTTPClient.fetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.simple_httpclient.SimpleAsyncHTTPClient.initialize">
<tt class="descname">initialize</tt><big>(</big><em>io_loop=None</em>, <em>max_clients=10</em>, <em>max_simultaneous_connections=None</em>, <em>hostname_mapping=None</em>, <em>max_buffer_size=104857600</em><big>)</big><a class="headerlink" href="#src.tornado.simple_httpclient.SimpleAsyncHTTPClient.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a AsyncHTTPClient.</p>
<p>Only a single AsyncHTTPClient instance exists per IOLoop
in order to provide limitations on the number of pending connections.
force_instance=True may be used to suppress this behavior.</p>
<p>max_clients is the number of concurrent requests that can be in
progress.  max_simultaneous_connections has no effect and is accepted
only for compatibility with the curl-based AsyncHTTPClient.  Note
that these arguments are only used when the client is first created,
and will be ignored when an existing client is reused.</p>
<p>hostname_mapping is a dictionary mapping hostnames to IP addresses.
It can be used to make local DNS changes when modifying system-wide
settings like /etc/hosts is not possible or desirable (e.g. in
unittests).</p>
<p>max_buffer_size is the number of bytes that can be read by IOStream. It
defaults to 100mb.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.simple_httpclient.match_hostname">
<tt class="descclassname">src.tornado.simple_httpclient.</tt><tt class="descname">match_hostname</tt><big>(</big><em>cert</em>, <em>hostname</em><big>)</big><a class="headerlink" href="#src.tornado.simple_httpclient.match_hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that <em>cert</em> (in decoded format as returned by
SSLSocket.getpeercert()) matches the <em>hostname</em>.  RFC 2818 rules
are mostly followed, but IP addresses are not accepted for <em>hostname</em>.</p>
<p>CertificateError is raised on failure. On success, the function
returns nothing.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.stack_context">
<span id="stack-context-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">stack_context</span></tt> Module<a class="headerlink" href="#module-src.tornado.stack_context" title="Permalink to this headline">¶</a></h2>
<p>StackContext allows applications to maintain threadlocal-like state
that follows execution as it moves to other execution contexts.</p>
<p>The motivating examples are to eliminate the need for explicit
async_callback wrappers (as in tornado.web.RequestHandler), and to
allow some additional context to be kept for logging.</p>
<p>This is slightly magic, but it&#8217;s an extension of the idea that an exception
handler is a kind of stack-local state and when that stack is suspended
and resumed in a new context that state needs to be preserved.  StackContext
shifts the burden of restoring that state from each call site (e.g.
wrapping each AsyncHTTPClient callback in async_callback) to the mechanisms
that transfer control from one context to another (e.g. AsyncHTTPClient
itself, IOLoop, thread pools, etc).</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nd">@contextlib.contextmanager</span>
<span class="k">def</span> <span class="nf">die_on_error</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span>
    <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s">&quot;exception in asynchronous operation&quot;</span><span class="p">,</span><span class="n">exc_info</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="k">with</span> <span class="n">StackContext</span><span class="p">(</span><span class="n">die_on_error</span><span class="p">):</span>
    <span class="c"># Any exception thrown here *or in callback and its desendents*</span>
    <span class="c"># will cause the process to exit instead of spinning endlessly</span>
    <span class="c"># in the ioloop.</span>
    <span class="n">http_client</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>Most applications shouln&#8217;t have to work with <cite>StackContext</cite> directly.
Here are a few rules of thumb for when it&#8217;s necessary:</p>
<ul class="simple">
<li>If you&#8217;re writing an asynchronous library that doesn&#8217;t rely on a
stack_context-aware library like <cite>tornado.ioloop</cite> or <cite>tornado.iostream</cite>
(for example, if you&#8217;re writing a thread pool), use
<cite>stack_context.wrap()</cite> before any asynchronous operations to capture the
stack context from where the operation was started.</li>
<li>If you&#8217;re writing an asynchronous library that has some shared
resources (such as a connection pool), create those shared resources
within a <tt class="docutils literal"><span class="pre">with</span> <span class="pre">stack_context.NullContext():</span></tt> block.  This will prevent
<tt class="docutils literal"><span class="pre">StackContexts</span></tt> from leaking from one request to another.</li>
<li>If you want to write something like an exception handler that will
persist across asynchronous calls, create a new <cite>StackContext</cite> (or
<cite>ExceptionStackContext</cite>), and make your asynchronous calls in a <tt class="docutils literal"><span class="pre">with</span></tt>
block that references your <cite>StackContext</cite>.</li>
</ul>
<dl class="class">
<dt id="src.tornado.stack_context.ExceptionStackContext">
<em class="property">class </em><tt class="descclassname">src.tornado.stack_context.</tt><tt class="descname">ExceptionStackContext</tt><big>(</big><em>exception_handler</em>, <em>_active_cell=None</em><big>)</big><a class="headerlink" href="#src.tornado.stack_context.ExceptionStackContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Specialization of StackContext for exception handling.</p>
<p>The supplied exception_handler function will be called in the
event of an uncaught exception in this context.  The semantics are
similar to a try/finally clause, and intended use cases are to log
an error, close a socket, or similar cleanup actions.  The
exc_info triple (type, value, traceback) will be passed to the
exception_handler function.</p>
<p>If the exception handler returns true, the exception will be
consumed and will not be propagated to other exception handlers.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.stack_context.NullContext">
<em class="property">class </em><tt class="descclassname">src.tornado.stack_context.</tt><tt class="descname">NullContext</tt><a class="headerlink" href="#src.tornado.stack_context.NullContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Resets the StackContext.</p>
<p>Useful when creating a shared resource on demand (e.g. an AsyncHTTPClient)
where the stack that caused the creating is not relevant to future
operations.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.stack_context.StackContext">
<em class="property">class </em><tt class="descclassname">src.tornado.stack_context.</tt><tt class="descname">StackContext</tt><big>(</big><em>context_factory</em>, <em>_active_cell=None</em><big>)</big><a class="headerlink" href="#src.tornado.stack_context.StackContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Establishes the given context as a StackContext that will be transferred.</p>
<p>Note that the parameter is a callable that returns a context
manager, not the context itself.  That is, where for a
non-transferable context manager you would say:</p>
<div class="highlight-python"><pre>with my_context():</pre>
</div>
<p>StackContext takes the function itself rather than its result:</p>
<div class="highlight-python"><pre>with StackContext(my_context):</pre>
</div>
<p>The result of <tt class="docutils literal"><span class="pre">with</span> <span class="pre">StackContext()</span> <span class="pre">as</span> <span class="pre">cb:</span></tt> is a deactivation
callback.  Run this callback when the StackContext is no longer
needed to ensure that it is not propagated any further (note that
deactivating a context does not affect any instances of that
context that are currently pending).  This is an advanced feature
and not necessary in most applications.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.stack_context.wrap">
<tt class="descclassname">src.tornado.stack_context.</tt><tt class="descname">wrap</tt><big>(</big><em>fn</em><big>)</big><a class="headerlink" href="#src.tornado.stack_context.wrap" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a callable object that will restore the current StackContext
when executed.</p>
<p>Use this whenever saving a callback to be executed later in a
different execution context (either in a different thread or
asynchronously in the same thread).</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.template">
<span id="template-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">template</span></tt> Module<a class="headerlink" href="#module-src.tornado.template" title="Permalink to this headline">¶</a></h2>
<p>A simple template system that compiles templates to Python code.</p>
<p>Basic usage looks like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Template</span><span class="p">(</span><span class="s">&quot;&lt;html&gt;{{ myvalue }}&lt;/html&gt;&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">t</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">myvalue</span><span class="o">=</span><span class="s">&quot;XXX&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Loader is a class that loads templates from a root directory and caches
the compiled templates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">loader</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">Loader</span><span class="p">(</span><span class="s">&quot;/home/btaylor&quot;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">loader</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s">&quot;test.html&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">myvalue</span><span class="o">=</span><span class="s">&quot;XXX&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We compile all templates to raw Python. Error-reporting is currently... uh,
interesting. Syntax for the templates:</p>
<div class="highlight-python"><pre>### base.html
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;{% block title %}Default title{% end %}&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;ul&gt;
      {% for student in students %}
        {% block student %}
          &lt;li&gt;{{ escape(student.name) }}&lt;/li&gt;
        {% end %}
      {% end %}
    &lt;/ul&gt;
  &lt;/body&gt;
&lt;/html&gt;

### bold.html
{% extends "base.html" %}

{% block title %}A bolder title{% end %}

{% block student %}
  &lt;li&gt;&lt;span style="bold"&gt;{{ escape(student.name) }}&lt;/span&gt;&lt;/li&gt;
{% end %}</pre>
</div>
<p>Unlike most other template systems, we do not put any restrictions on the
expressions you can include in your statements. if and for blocks get
translated exactly into Python, you can do complex expressions like:</p>
<div class="highlight-python"><pre>{% for student in [p for p in people if p.student and p.age &gt; 23] %}
  &lt;li&gt;{{ escape(student.name) }}&lt;/li&gt;
{% end %}</pre>
</div>
<p>Translating directly to Python means you can apply functions to expressions
easily, like the escape() function in the examples above. You can pass
functions in to your template just like any other variable:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">### Python code</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
   <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="n">template</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">add</span><span class="o">=</span><span class="n">add</span><span class="p">)</span>

<span class="c">### The template</span>
<span class="p">{{</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="p">}}</span>
</pre></div>
</div>
<p>We provide the functions escape(), url_escape(), json_encode(), and squeeze()
to all templates by default.</p>
<p>Typical applications do not create <cite>Template</cite> or <cite>Loader</cite> instances by
hand, but instead use the <cite>render</cite> and <cite>render_string</cite> methods of
<cite>tornado.web.RequestHandler</cite>, which load templates automatically based
on the <tt class="docutils literal"><span class="pre">template_path</span></tt> <cite>Application</cite> setting.</p>
<div class="section" id="syntax-reference">
<h3>Syntax Reference<a class="headerlink" href="#syntax-reference" title="Permalink to this headline">¶</a></h3>
<p>Template expressions are surrounded by double curly braces: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">...</span> <span class="pre">}}</span></tt>.
The contents may be any python expression, which will be escaped according
to the current autoescape setting and inserted into the output.  Other
template directives use <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">%}</span></tt>.  These tags may be escaped as <tt class="docutils literal"><span class="pre">{{!</span></tt>
and <tt class="docutils literal"><span class="pre">{%!</span></tt> if you need to include a literal <tt class="docutils literal"><span class="pre">{{</span></tt> or <tt class="docutils literal"><span class="pre">{%</span></tt> in the output.</p>
<p>To comment out a section so that it is omitted from the output, surround it
with <tt class="docutils literal"><span class="pre">{#</span> <span class="pre">...</span> <span class="pre">#}</span></tt>.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">apply</span> <span class="pre">*function*</span> <span class="pre">%}...{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt></dt>
<dd><p class="first">Applies a function to the output of all template code between <tt class="docutils literal"><span class="pre">apply</span></tt>
and <tt class="docutils literal"><span class="pre">end</span></tt>:</p>
<div class="last highlight-python"><pre>{% apply linkify %}{{name}} said: {{message}}{% end %}</pre>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">autoescape</span> <span class="pre">*function*</span> <span class="pre">%}</span></tt></dt>
<dd><p class="first">Sets the autoescape mode for the current file.  This does not affect
other files, even those referenced by <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">%}</span></tt>.  Note that
autoescaping can also be configured globally, at the <cite>Application</cite>
or <cite>Loader</cite>.:</p>
<div class="last highlight-python"><pre>{% autoescape xhtml_escape %}
{% autoescape None %}</pre>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">*name*</span> <span class="pre">%}...{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt></dt>
<dd><p class="first">Indicates a named, replaceable block for use with <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt>.
Blocks in the parent template will be replaced with the contents of
the same-named block in a child template.:</p>
<div class="last highlight-python"><pre>&lt;!-- base.html --&gt;
&lt;title&gt;{% block title %}Default title{% end %}&lt;/title&gt;

&lt;!-- mypage.html --&gt;
{% extends "base.html" %}
{% block title %}My page title{% end %}</pre>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">comment</span> <span class="pre">...</span> <span class="pre">%}</span></tt></dt>
<dd>A comment which will be removed from the template output.  Note that
there is no <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt> tag; the comment goes from the word <tt class="docutils literal"><span class="pre">comment</span></tt>
to the closing <tt class="docutils literal"><span class="pre">%}</span></tt> tag.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">*filename*</span> <span class="pre">%}</span></tt></dt>
<dd>Inherit from another template.  Templates that use <tt class="docutils literal"><span class="pre">extends</span></tt> should
contain one or more <tt class="docutils literal"><span class="pre">block</span></tt> tags to replace content from the parent
template.  Anything in the child template not contained in a <tt class="docutils literal"><span class="pre">block</span></tt>
tag will be ignored.  For an example, see the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tag.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">for</span> <span class="pre">*var*</span> <span class="pre">in</span> <span class="pre">*expr*</span> <span class="pre">%}...{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt></dt>
<dd>Same as the python <tt class="docutils literal"><span class="pre">for</span></tt> statement.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">from</span> <span class="pre">*x*</span> <span class="pre">import</span> <span class="pre">*y*</span> <span class="pre">%}</span></tt></dt>
<dd>Same as the python <tt class="docutils literal"><span class="pre">import</span></tt> statement.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">if</span> <span class="pre">*condition*</span> <span class="pre">%}...{%</span> <span class="pre">elif</span> <span class="pre">*condition*</span> <span class="pre">%}...{%</span> <span class="pre">else</span> <span class="pre">%}...{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt></dt>
<dd>Conditional statement - outputs the first section whose condition is
true.  (The <tt class="docutils literal"><span class="pre">elif</span></tt> and <tt class="docutils literal"><span class="pre">else</span></tt> sections are optional)</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">import</span> <span class="pre">*module*</span> <span class="pre">%}</span></tt></dt>
<dd>Same as the python <tt class="docutils literal"><span class="pre">import</span></tt> statement.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">*filename*</span> <span class="pre">%}</span></tt></dt>
<dd>Includes another template file.  The included file can see all the local
variables as if it were copied directly to the point of the <tt class="docutils literal"><span class="pre">include</span></tt>
directive (the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">autoescape</span> <span class="pre">%}</span></tt> directive is an exception).
Alternately, <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">module</span> <span class="pre">Template(filename,</span> <span class="pre">**kwargs)</span> <span class="pre">%}</span></tt> may be used
to include another template with an isolated namespace.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">module</span> <span class="pre">*expr*</span> <span class="pre">%}</span></tt></dt>
<dd><p class="first">Renders a <cite>~tornado.web.UIModule</cite>.  The output of the <tt class="docutils literal"><span class="pre">UIModule</span></tt> is
not escaped:</p>
<div class="last highlight-python"><pre>{% module Template("foo.html", arg=42) %}</pre>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">raw</span> <span class="pre">*expr*</span> <span class="pre">%}</span></tt></dt>
<dd>Outputs the result of the given expression without autoescaping.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">set</span> <span class="pre">*x*</span> <span class="pre">=</span> <span class="pre">*y*</span> <span class="pre">%}</span></tt></dt>
<dd>Sets a local variable.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">try</span> <span class="pre">%}...{%</span> <span class="pre">except</span> <span class="pre">%}...{%</span> <span class="pre">finally</span> <span class="pre">%}...{%</span> <span class="pre">else</span> <span class="pre">%}...{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt></dt>
<dd>Same as the python <tt class="docutils literal"><span class="pre">try</span></tt> statement.</dd>
<dt><tt class="docutils literal"><span class="pre">{%</span> <span class="pre">while</span> <span class="pre">*condition*</span> <span class="pre">%}...</span> <span class="pre">{%</span> <span class="pre">end</span> <span class="pre">%}</span></tt></dt>
<dd>Same as the python <tt class="docutils literal"><span class="pre">while</span></tt> statement.</dd>
</dl>
<dl class="class">
<dt id="src.tornado.template.BaseLoader">
<em class="property">class </em><tt class="descclassname">src.tornado.template.</tt><tt class="descname">BaseLoader</tt><big>(</big><em>autoescape='xhtml_escape'</em>, <em>namespace=None</em><big>)</big><a class="headerlink" href="#src.tornado.template.BaseLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for template loaders.</p>
<dl class="method">
<dt id="src.tornado.template.BaseLoader.load">
<tt class="descname">load</tt><big>(</big><em>name</em>, <em>parent_path=None</em><big>)</big><a class="headerlink" href="#src.tornado.template.BaseLoader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a template.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.template.BaseLoader.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.template.BaseLoader.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets the cache of compiled templates.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.template.BaseLoader.resolve_path">
<tt class="descname">resolve_path</tt><big>(</big><em>name</em>, <em>parent_path=None</em><big>)</big><a class="headerlink" href="#src.tornado.template.BaseLoader.resolve_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a possibly-relative path to absolute (used internally).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.template.DictLoader">
<em class="property">class </em><tt class="descclassname">src.tornado.template.</tt><tt class="descname">DictLoader</tt><big>(</big><em>dict</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.template.DictLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.template.BaseLoader" title="src.tornado.template.BaseLoader"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.template.BaseLoader</span></tt></a></p>
<p>A template loader that loads from a dictionary.</p>
<dl class="method">
<dt id="src.tornado.template.DictLoader.resolve_path">
<tt class="descname">resolve_path</tt><big>(</big><em>name</em>, <em>parent_path=None</em><big>)</big><a class="headerlink" href="#src.tornado.template.DictLoader.resolve_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.template.Loader">
<em class="property">class </em><tt class="descclassname">src.tornado.template.</tt><tt class="descname">Loader</tt><big>(</big><em>root_directory</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.template.Loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.template.BaseLoader" title="src.tornado.template.BaseLoader"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.template.BaseLoader</span></tt></a></p>
<p>A template loader that loads from a single root directory.</p>
<p>You must use a template loader to use template constructs like
{% extends %} and {% include %}. Loader caches all templates after
they are loaded the first time.</p>
<dl class="method">
<dt id="src.tornado.template.Loader.resolve_path">
<tt class="descname">resolve_path</tt><big>(</big><em>name</em>, <em>parent_path=None</em><big>)</big><a class="headerlink" href="#src.tornado.template.Loader.resolve_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.template.ParseError">
<em class="property">exception </em><tt class="descclassname">src.tornado.template.</tt><tt class="descname">ParseError</tt><a class="headerlink" href="#src.tornado.template.ParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Raised for template syntax errors.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.template.Template">
<em class="property">class </em><tt class="descclassname">src.tornado.template.</tt><tt class="descname">Template</tt><big>(</big><em>template_string</em>, <em>name='&lt;string&gt;'</em>, <em>loader=None</em>, <em>compress_whitespace=None</em>, <em>autoescape=&lt;object object at 0x6cff500&gt;</em><big>)</big><a class="headerlink" href="#src.tornado.template.Template" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A compiled template.</p>
<p>We compile into Python from the given template_string. You can generate
the template from variables with generate().</p>
<dl class="method">
<dt id="src.tornado.template.Template.generate">
<tt class="descname">generate</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.template.Template.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate this template with the given arguments.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-src.tornado.testing">
<span id="testing-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">testing</span></tt> Module<a class="headerlink" href="#module-src.tornado.testing" title="Permalink to this headline">¶</a></h2>
<p>Support classes for automated testing.</p>
<p>This module contains three parts:</p>
<ul class="simple">
<li><cite>AsyncTestCase</cite>/<cite>AsyncHTTPTestCase</cite>:  Subclasses of unittest.TestCase
with additional support for testing asynchronous (IOLoop-based) code.</li>
<li><cite>LogTrapTestCase</cite>:  Subclass of unittest.TestCase that discards log output
from tests that pass and only produces output for failing tests.</li>
<li><cite>main()</cite>: A simple test runner (wrapper around unittest.main()) with support
for the tornado.autoreload module to rerun the tests when code changes.</li>
</ul>
<p>These components may be used together or independently.  In particular,
it is safe to combine AsyncTestCase and LogTrapTestCase via multiple
inheritance.  See the docstrings for each class/function below for more
information.</p>
<dl class="class">
<dt id="src.tornado.testing.AsyncHTTPTestCase">
<em class="property">class </em><tt class="descclassname">src.tornado.testing.</tt><tt class="descname">AsyncHTTPTestCase</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.testing.AsyncTestCase" title="src.tornado.testing.AsyncTestCase"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.testing.AsyncTestCase</span></tt></a></p>
<p>A test case that starts up an HTTP server.</p>
<p>Subclasses must override get_app(), which returns the
tornado.web.Application (or other HTTPServer callback) to be tested.
Tests will typically use the provided self.http_client to fetch
URLs from this server.</p>
<p>Example:</p>
<div class="highlight-python"><pre>class MyHTTPTest(AsyncHTTPTestCase):
    def get_app(self):
        return Application([('/', MyHandler)...])

    def test_homepage(self):
        # The following two lines are equivalent to
        #   response = self.fetch('/')
        # but are shown in full here to demonstrate explicit use
        # of self.stop and self.wait.
        self.http_client.fetch(self.get_url('/'), self.stop)
        response = self.wait()
        # test contents of response</pre>
</div>
<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.fetch">
<tt class="descname">fetch</tt><big>(</big><em>path</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method to synchronously fetch a url.</p>
<p>The given path will be appended to the local server&#8217;s host and port.
Any additional kwargs will be passed directly to
AsyncHTTPClient.fetch (and so could be used to pass method=&#8221;POST&#8221;,
body=&#8221;...&#8221;, etc).</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.get_app">
<tt class="descname">get_app</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.get_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Should be overridden by subclasses to return a
tornado.web.Application or other HTTPServer callback.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.get_http_port">
<tt class="descname">get_http_port</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.get_http_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the port used by the HTTPServer.</p>
<p>A new port is chosen for each test.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.get_httpserver_options">
<tt class="descname">get_httpserver_options</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.get_httpserver_options" title="Permalink to this definition">¶</a></dt>
<dd><p>May be overridden by subclasses to return additional
keyword arguments for HTTPServer.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.get_url">
<tt class="descname">get_url</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.get_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an absolute url for the given path on the test server.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.setUp">
<tt class="descname">setUp</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncHTTPTestCase.tearDown">
<tt class="descname">tearDown</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncHTTPTestCase.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.testing.AsyncTestCase">
<em class="property">class </em><tt class="descclassname">src.tornado.testing.</tt><tt class="descname">AsyncTestCase</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">unittest.case.TestCase</span></tt></p>
<p>TestCase subclass for testing IOLoop-based asynchronous code.</p>
<p>The unittest framework is synchronous, so the test must be complete
by the time the test method returns.  This method provides the stop()
and wait() methods for this purpose.  The test method itself must call
self.wait(), and asynchronous callbacks should call self.stop() to signal
completion.</p>
<p>By default, a new IOLoop is constructed for each test and is available
as self.io_loop.  This IOLoop should be used in the construction of
HTTP clients/servers, etc.  If the code being tested requires a
global IOLoop, subclasses should override get_new_ioloop to return it.</p>
<p>The IOLoop&#8217;s start and stop methods should not be called directly.
Instead, use self.stop self.wait.  Arguments passed to self.stop are
returned from self.wait.  It is possible to have multiple
wait/stop cycles in the same test.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># This test uses an asynchronous style similar to most async</span>
<span class="c"># application code.</span>
<span class="k">class</span> <span class="nc">MyTestCase</span><span class="p">(</span><span class="n">AsyncTestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_http_fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">AsyncHTTPClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_loop</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">&quot;http://www.tornadoweb.org/&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">handle_fetch</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">handle_fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
        <span class="c"># Test contents of response (failures and exceptions here</span>
        <span class="c"># will cause self.wait() to throw an exception and end the</span>
        <span class="c"># test).</span>
        <span class="c"># Exceptions thrown here are magically propagated to</span>
        <span class="c"># self.wait() in test_http_fetch() via stack_context.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;FriendFeed&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

<span class="c"># This test uses the argument passing between self.stop and self.wait</span>
<span class="c"># for a simpler, more synchronous style.</span>
<span class="c"># This style is recommended over the preceding example because it</span>
<span class="c"># keeps the assertions in the test method itself, and is therefore</span>
<span class="c"># less sensitive to the subtleties of stack_context.</span>
<span class="k">class</span> <span class="nc">MyTestCase2</span><span class="p">(</span><span class="n">AsyncTestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_http_fetch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">client</span> <span class="o">=</span> <span class="n">AsyncHTTPClient</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">io_loop</span><span class="p">)</span>
        <span class="n">client</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">&quot;http://www.tornadoweb.org/&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">)</span>
        <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="c"># Test contents of response</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertIn</span><span class="p">(</span><span class="s">&quot;FriendFeed&quot;</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="src.tornado.testing.AsyncTestCase.get_new_ioloop">
<tt class="descname">get_new_ioloop</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase.get_new_ioloop" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new IOLoop for this test.  May be overridden in
subclasses for tests that require a specific IOLoop (usually
the singleton).</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncTestCase.run">
<tt class="descname">run</tt><big>(</big><em>result=None</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncTestCase.setUp">
<tt class="descname">setUp</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase.setUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncTestCase.stop">
<tt class="descname">stop</tt><big>(</big><em>_arg=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops the ioloop, causing one pending (or future) call to wait()
to return.</p>
<p>Keyword arguments or a single positional argument passed to stop() are
saved and will be returned by wait().</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncTestCase.tearDown">
<tt class="descname">tearDown</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase.tearDown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.testing.AsyncTestCase.wait">
<tt class="descname">wait</tt><big>(</big><em>condition=None</em>, <em>timeout=5</em><big>)</big><a class="headerlink" href="#src.tornado.testing.AsyncTestCase.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the IOLoop until stop is called or timeout has passed.</p>
<p>In the event of a timeout, an exception will be thrown.</p>
<p>If condition is not None, the IOLoop will be restarted after stop()
until condition() returns true.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.testing.LogTrapTestCase">
<em class="property">class </em><tt class="descclassname">src.tornado.testing.</tt><tt class="descname">LogTrapTestCase</tt><big>(</big><em>methodName='runTest'</em><big>)</big><a class="headerlink" href="#src.tornado.testing.LogTrapTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">unittest.case.TestCase</span></tt></p>
<p>A test case that captures and discards all logging output
if the test passes.</p>
<p>Some libraries can produce a lot of logging output even when
the test succeeds, so this class can be useful to minimize the noise.
Simply use it as a base class for your test case.  It is safe to combine
with AsyncTestCase via multiple inheritance
(&#8220;class MyTestCase(AsyncHTTPTestCase, LogTrapTestCase):&#8221;)</p>
<p>This class assumes that only one log handler is configured and that
it is a StreamHandler.  This is true for both logging.basicConfig
and the &#8220;pretty logging&#8221; configured by tornado.options.</p>
<dl class="method">
<dt id="src.tornado.testing.LogTrapTestCase.run">
<tt class="descname">run</tt><big>(</big><em>result=None</em><big>)</big><a class="headerlink" href="#src.tornado.testing.LogTrapTestCase.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.testing.get_unused_port">
<tt class="descclassname">src.tornado.testing.</tt><tt class="descname">get_unused_port</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.get_unused_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a (hopefully) unused port number.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.testing.main">
<tt class="descclassname">src.tornado.testing.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.testing.main" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple test runner.</p>
<p>This test runner is essentially equivalent to <cite>unittest.main</cite> from
the standard library, but adds support for tornado-style option
parsing and log formatting.</p>
<p>The easiest way to run a test is via the command line:</p>
<div class="highlight-python"><pre>python -m tornado.testing tornado.test.stack_context_test</pre>
</div>
<p>See the standard library unittest module for ways in which tests can
be specified.</p>
<p>Projects with many tests may wish to define a test script like
tornado/test/runtests.py.  This script should define a method all()
which returns a test suite and then call tornado.testing.main().
Note that even when a test script is used, the all() test suite may
be overridden by naming a single test on the command line:</p>
<div class="highlight-python"><pre># Runs all tests
tornado/test/runtests.py
# Runs one test
tornado/test/runtests.py tornado.test.stack_context_test</pre>
</div>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.util">
<span id="util-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">util</span></tt> Module<a class="headerlink" href="#module-src.tornado.util" title="Permalink to this headline">¶</a></h2>
<p>Miscellaneous utility functions.</p>
<dl class="class">
<dt id="src.tornado.util.ObjectDict">
<em class="property">class </em><tt class="descclassname">src.tornado.util.</tt><tt class="descname">ObjectDict</tt><a class="headerlink" href="#src.tornado.util.ObjectDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/stdtypes.html#dict" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></a></p>
<p>Makes a dictionary behave like an object.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.util.b">
<tt class="descclassname">src.tornado.util.</tt><tt class="descname">b</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#src.tornado.util.b" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="src.tornado.util.doctests">
<tt class="descclassname">src.tornado.util.</tt><tt class="descname">doctests</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.util.doctests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="src.tornado.util.import_object">
<tt class="descclassname">src.tornado.util.</tt><tt class="descname">import_object</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#src.tornado.util.import_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports an object by name.</p>
<p>import_object(&#8216;x.y.z&#8217;) is equivalent to &#8216;from x.y import z&#8217;.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tornado.escape</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">import_object</span><span class="p">(</span><span class="s">&#39;tornado.escape&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">tornado</span><span class="o">.</span><span class="n">escape</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">import_object</span><span class="p">(</span><span class="s">&#39;tornado.escape.utf8&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="n">tornado</span><span class="o">.</span><span class="n">escape</span><span class="o">.</span><span class="n">utf8</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="src.tornado.util.raise_exc_info">
<tt class="descclassname">src.tornado.util.</tt><tt class="descname">raise_exc_info</tt><big>(</big><em>exc_info</em><big>)</big><a class="headerlink" href="#src.tornado.util.raise_exc_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-raise an exception (with original traceback) from an exc_info tuple.</p>
<p>The argument is a <tt class="docutils literal"><span class="pre">(type,</span> <span class="pre">value,</span> <span class="pre">traceback)</span></tt> tuple as returned by
<cite>sys.exc_info</cite>.</p>
</dd></dl>

</div>
<div class="section" id="module-src.tornado.web">
<span id="web-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">web</span></tt> Module<a class="headerlink" href="#module-src.tornado.web" title="Permalink to this headline">¶</a></h2>
<p>The Tornado web framework looks a bit like web.py (<a class="reference external" href="http://webpy.org/">http://webpy.org/</a>) or
Google&#8217;s webapp (<a class="reference external" href="http://code.google.com/appengine/docs/python/tools/webapp/">http://code.google.com/appengine/docs/python/tools/webapp/</a>),
but with additional tools and optimizations to take advantage of the
Tornado non-blocking web server and tools.</p>
<p>Here is the canonical &#8220;Hello, world&#8221; example app:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">tornado.ioloop</span>
<span class="kn">import</span> <span class="nn">tornado.web</span>

<span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
        <span class="p">(</span><span class="s">r&quot;/&quot;</span><span class="p">,</span> <span class="n">MainHandler</span><span class="p">),</span>
    <span class="p">])</span>
    <span class="n">application</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
    <span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>See the Tornado walkthrough on <a class="reference external" href="http://tornadoweb.org">http://tornadoweb.org</a> for more details
and a good getting started guide.</p>
<div class="section" id="thread-safety-notes">
<h3>Thread-safety notes<a class="headerlink" href="#thread-safety-notes" title="Permalink to this headline">¶</a></h3>
<p>In general, methods on RequestHandler and elsewhere in tornado are not
thread-safe.  In particular, methods such as write(), finish(), and
flush() must only be called from the main thread.  If you use multiple
threads it is important to use IOLoop.add_callback to transfer control
back to the main thread before finishing the request.</p>
<dl class="class">
<dt id="src.tornado.web.Application">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">Application</tt><big>(</big><em>handlers=None</em>, <em>default_host=''</em>, <em>transforms=None</em>, <em>wsgi=False</em>, <em>**settings</em><big>)</big><a class="headerlink" href="#src.tornado.web.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A collection of request handlers that make up a web application.</p>
<p>Instances of this class are callable and can be passed directly to
HTTPServer to serve the application:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="s">r&quot;/&quot;</span><span class="p">,</span> <span class="n">MainPageHandler</span><span class="p">),</span>
<span class="p">])</span>
<span class="n">http_server</span> <span class="o">=</span> <span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">application</span><span class="p">)</span>
<span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8080</span><span class="p">)</span>
<span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>The constructor for this class takes in a list of URLSpec objects
or (regexp, request_class) tuples. When we receive requests, we
iterate over the list in order and instantiate an instance of the
first request class whose regexp matches the request path.</p>
<p>Each tuple can contain an optional third element, which should be a
dictionary if it is present. That dictionary is passed as keyword
arguments to the contructor of the handler. This pattern is used
for the StaticFileHandler below (note that a StaticFileHandler
can be installed automatically with the static_path setting described
below):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="s">r&quot;/static/(.*)&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">StaticFileHandler</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;path&quot;</span><span class="p">:</span> <span class="s">&quot;/var/www&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>We support virtual hosts with the add_handlers method, which takes in
a host regular expression as the first argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">application</span><span class="o">.</span><span class="n">add_handlers</span><span class="p">(</span><span class="s">r&quot;www\.myhost\.com&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="s">r&quot;/article/([0-9]+)&quot;</span><span class="p">,</span> <span class="n">ArticleHandler</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>You can serve static files by sending the static_path setting as a
keyword argument. We will serve those files from the /static/ URI
(this is configurable with the static_url_prefix setting),
and we will serve /favicon.ico and /robots.txt from the same directory.
A custom subclass of StaticFileHandler can be specified with the
static_handler_class setting.</p>
<dl class="attribute">
<dt id="src.tornado.web.Application.settings">
<tt class="descname">settings</tt><a class="headerlink" href="#src.tornado.web.Application.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Additonal keyword arguments passed to the constructor are saved in the
<cite>settings</cite> dictionary, and are often referred to in documentation as
&#8220;application settings&#8221;.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.Application.add_handlers">
<tt class="descname">add_handlers</tt><big>(</big><em>host_pattern</em>, <em>host_handlers</em><big>)</big><a class="headerlink" href="#src.tornado.web.Application.add_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the given handlers to our handler list.</p>
<p>Note that host patterns are processed sequentially in the
order they were added, and only the first matching pattern is
used.  This means that all handlers for a given host must be
added in a single add_handlers call.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.Application.add_transform">
<tt class="descname">add_transform</tt><big>(</big><em>transform_class</em><big>)</big><a class="headerlink" href="#src.tornado.web.Application.add_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given OutputTransform to our transform list.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.Application.listen">
<tt class="descname">listen</tt><big>(</big><em>port</em>, <em>address=''</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.Application.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts an HTTP server for this application on the given port.</p>
<p>This is a convenience alias for creating an HTTPServer object
and calling its listen method.  Keyword arguments not
supported by HTTPServer.listen are passed to the HTTPServer
constructor.  For advanced uses (e.g. preforking), do not use
this method; create an HTTPServer and call its bind/start
methods directly.</p>
<p>Note that after calling this method you still need to call
IOLoop.instance().start() to start the server.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.Application.log_request">
<tt class="descname">log_request</tt><big>(</big><em>handler</em><big>)</big><a class="headerlink" href="#src.tornado.web.Application.log_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a completed HTTP request to the logs.</p>
<p>By default writes to the python root logger.  To change
this behavior either subclass Application and override this method,
or pass a function in the application settings dictionary as
&#8216;log_function&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.Application.reverse_url">
<tt class="descname">reverse_url</tt><big>(</big><em>name</em>, <em>*args</em><big>)</big><a class="headerlink" href="#src.tornado.web.Application.reverse_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL path for handler named <cite>name</cite></p>
<p>The handler must be added to the application as a named URLSpec.</p>
<p>Args will be substituted for capturing groups in the URLSpec regex.
They will be converted to strings if necessary, encoded as utf8,
and url-escaped.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.ChunkedTransferEncoding">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">ChunkedTransferEncoding</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#src.tornado.web.ChunkedTransferEncoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.OutputTransform" title="src.tornado.web.OutputTransform"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.OutputTransform</span></tt></a></p>
<p>Applies the chunked transfer encoding to the response.</p>
<p>See <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.6.1">http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.6.1</a></p>
<dl class="method">
<dt id="src.tornado.web.ChunkedTransferEncoding.transform_chunk">
<tt class="descname">transform_chunk</tt><big>(</big><em>block</em>, <em>finishing</em><big>)</big><a class="headerlink" href="#src.tornado.web.ChunkedTransferEncoding.transform_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.ChunkedTransferEncoding.transform_first_chunk">
<tt class="descname">transform_first_chunk</tt><big>(</big><em>status_code</em>, <em>headers</em>, <em>chunk</em>, <em>finishing</em><big>)</big><a class="headerlink" href="#src.tornado.web.ChunkedTransferEncoding.transform_first_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.ErrorHandler">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">ErrorHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.ErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.RequestHandler" title="src.tornado.web.RequestHandler"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.RequestHandler</span></tt></a></p>
<p>Generates an error response with status_code for all requests.</p>
<dl class="method">
<dt id="src.tornado.web.ErrorHandler.initialize">
<tt class="descname">initialize</tt><big>(</big><em>status_code</em><big>)</big><a class="headerlink" href="#src.tornado.web.ErrorHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.ErrorHandler.prepare">
<tt class="descname">prepare</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.ErrorHandler.prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.FallbackHandler">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">FallbackHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.FallbackHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.RequestHandler" title="src.tornado.web.RequestHandler"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.RequestHandler</span></tt></a></p>
<p>A RequestHandler that wraps another HTTP server callback.</p>
<p>The fallback is a callable object that accepts an HTTPRequest,
such as an Application or tornado.wsgi.WSGIContainer.  This is most
useful to use both tornado RequestHandlers and WSGI in the same server.
Typical usage:</p>
<div class="highlight-python"><pre>wsgi_app = tornado.wsgi.WSGIContainer(
    django.core.handlers.wsgi.WSGIHandler())
application = tornado.web.Application([
    (r"/foo", FooHandler),
    (r".*", FallbackHandler, dict(fallback=wsgi_app),
])</pre>
</div>
<dl class="method">
<dt id="src.tornado.web.FallbackHandler.initialize">
<tt class="descname">initialize</tt><big>(</big><em>fallback</em><big>)</big><a class="headerlink" href="#src.tornado.web.FallbackHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.FallbackHandler.prepare">
<tt class="descname">prepare</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.FallbackHandler.prepare" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.GZipContentEncoding">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">GZipContentEncoding</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#src.tornado.web.GZipContentEncoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.OutputTransform" title="src.tornado.web.OutputTransform"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.OutputTransform</span></tt></a></p>
<p>Applies the gzip content encoding to the response.</p>
<p>See <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11</a></p>
<dl class="attribute">
<dt id="src.tornado.web.GZipContentEncoding.CONTENT_TYPES">
<tt class="descname">CONTENT_TYPES</tt><em class="property"> = set(['text/xml', 'application/atom+xml', 'text/javascript', 'text/html', 'application/javascript', 'application/x-javascript', 'application/xml', 'application/json', 'text/css', 'text/plain', 'application/xhtml+xml'])</em><a class="headerlink" href="#src.tornado.web.GZipContentEncoding.CONTENT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.GZipContentEncoding.MIN_LENGTH">
<tt class="descname">MIN_LENGTH</tt><em class="property"> = 5</em><a class="headerlink" href="#src.tornado.web.GZipContentEncoding.MIN_LENGTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.GZipContentEncoding.transform_chunk">
<tt class="descname">transform_chunk</tt><big>(</big><em>chunk</em>, <em>finishing</em><big>)</big><a class="headerlink" href="#src.tornado.web.GZipContentEncoding.transform_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.GZipContentEncoding.transform_first_chunk">
<tt class="descname">transform_first_chunk</tt><big>(</big><em>status_code</em>, <em>headers</em>, <em>chunk</em>, <em>finishing</em><big>)</big><a class="headerlink" href="#src.tornado.web.GZipContentEncoding.transform_first_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="src.tornado.web.HTTPError">
<em class="property">exception </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">HTTPError</tt><big>(</big><em>status_code</em>, <em>log_message=None</em>, <em>*args</em><big>)</big><a class="headerlink" href="#src.tornado.web.HTTPError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>An exception that will turn into an HTTP error response.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.web.OutputTransform">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">OutputTransform</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#src.tornado.web.OutputTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A transform modifies the result of an HTTP request (e.g., GZip encoding)</p>
<p>A new transform instance is created for every request. See the
ChunkedTransferEncoding example below if you want to implement a
new Transform.</p>
<dl class="method">
<dt id="src.tornado.web.OutputTransform.transform_chunk">
<tt class="descname">transform_chunk</tt><big>(</big><em>chunk</em>, <em>finishing</em><big>)</big><a class="headerlink" href="#src.tornado.web.OutputTransform.transform_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.OutputTransform.transform_first_chunk">
<tt class="descname">transform_first_chunk</tt><big>(</big><em>status_code</em>, <em>headers</em>, <em>chunk</em>, <em>finishing</em><big>)</big><a class="headerlink" href="#src.tornado.web.OutputTransform.transform_first_chunk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.RedirectHandler">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">RedirectHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RedirectHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.RequestHandler" title="src.tornado.web.RequestHandler"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.RequestHandler</span></tt></a></p>
<p>Redirects the client to the given URL for all GET requests.</p>
<p>You should provide the keyword argument &#8220;url&#8221; to the handler, e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="s">r&quot;/oldpath&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">RedirectHandler</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;url&quot;</span><span class="p">:</span> <span class="s">&quot;/newpath&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<dl class="method">
<dt id="src.tornado.web.RedirectHandler.get">
<tt class="descname">get</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RedirectHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RedirectHandler.initialize">
<tt class="descname">initialize</tt><big>(</big><em>url</em>, <em>permanent=True</em><big>)</big><a class="headerlink" href="#src.tornado.web.RedirectHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.RequestHandler">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">RequestHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Subclass this class and define get() or post() to make a handler.</p>
<p>If you want to support more methods than the standard GET/HEAD/POST, you
should override the class variable SUPPORTED_METHODS in your
RequestHandler class.</p>
<dl class="attribute">
<dt id="src.tornado.web.RequestHandler.SUPPORTED_METHODS">
<tt class="descname">SUPPORTED_METHODS</tt><em class="property"> = ('GET', 'HEAD', 'POST', 'DELETE', 'PATCH', 'PUT', 'OPTIONS')</em><a class="headerlink" href="#src.tornado.web.RequestHandler.SUPPORTED_METHODS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.add_header">
<tt class="descname">add_header</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.add_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given response header and value.</p>
<p>Unlike <cite>set_header</cite>, <cite>add_header</cite> may be called multiple times
to return multiple values for the same header.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.async_callback">
<tt class="descname">async_callback</tt><big>(</big><em>callback</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.async_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Obsolete - catches exceptions from the wrapped function.</p>
<p>This function is unnecessary since Tornado 1.1.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.check_xsrf_cookie">
<tt class="descname">check_xsrf_cookie</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.check_xsrf_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the &#8216;_xsrf&#8217; cookie matches the &#8216;_xsrf&#8217; argument.</p>
<p>To prevent cross-site request forgery, we set an &#8216;_xsrf&#8217;
cookie and include the same value as a non-cookie
field with all POST requests. If the two do not match, we
reject the form submission as a potential forgery.</p>
<p>The _xsrf value may be set as either a form field named _xsrf
or in a custom HTTP header named X-XSRFToken or X-CSRFToken
(the latter is accepted for compatibility with Django).</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">http://en.wikipedia.org/wiki/Cross-site_request_forgery</a></p>
<p>Prior to release 1.1.1, this check was ignored if the HTTP header
&#8220;X-Requested-With: XMLHTTPRequest&#8221; was present.  This exception
has been shown to be insecure and has been removed.  For more
information please see
<a class="reference external" href="http://www.djangoproject.com/weblog/2011/feb/08/security/">http://www.djangoproject.com/weblog/2011/feb/08/security/</a>
<a class="reference external" href="http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails">http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails</a></p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all headers and content for this response.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.clear_all_cookies">
<tt class="descname">clear_all_cookies</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.clear_all_cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all the cookies the user sent with this request.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.clear_cookie">
<tt class="descname">clear_cookie</tt><big>(</big><em>name</em>, <em>path='/'</em>, <em>domain=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.clear_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the cookie with the given name.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.clear_header">
<tt class="descname">clear_header</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.clear_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears an outgoing header, undoing a previous <cite>set_header</cite> call.</p>
<p>Note that this method does not apply to multi-valued headers
set by <cite>add_header</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.compute_etag">
<tt class="descname">compute_etag</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.compute_etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the etag header to be used for this request.</p>
<p>May be overridden to provide custom etag implementations,
or may return None to disable tornado&#8217;s default etag support.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.RequestHandler.cookies">
<tt class="descname">cookies</tt><a class="headerlink" href="#src.tornado.web.RequestHandler.cookies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.create_signed_value">
<tt class="descname">create_signed_value</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.create_signed_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs and timestamps a string so it cannot be forged.</p>
<p>Normally used via set_secure_cookie, but provided as a separate
method for non-cookie uses.  To decode a value not stored
as a cookie use the optional value argument to get_secure_cookie.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.create_template_loader">
<tt class="descname">create_template_loader</tt><big>(</big><em>template_path</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.create_template_loader" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.RequestHandler.current_user">
<tt class="descname">current_user</tt><a class="headerlink" href="#src.tornado.web.RequestHandler.current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>The authenticated user for this request.</p>
<p>Determined by either get_current_user, which you can override to
set the user based on, e.g., a cookie. If that method is not
overridden, this method always returns None.</p>
<p>We lazy-load the current user the first time this method is called
and cache the result after that.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.decode_argument">
<tt class="descname">decode_argument</tt><big>(</big><em>value</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.decode_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes an argument from the request.</p>
<p>The argument has been percent-decoded and is now a byte string.
By default, this method decodes the argument as utf-8 and returns
a unicode string, but this may be overridden in subclasses.</p>
<p>This method is used as a filter for both get_argument() and for
values extracted from the url and passed to get()/post()/etc.</p>
<p>The name of the argument is provided if known, but may be None
(e.g. for unnamed groups in the url regex).</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.delete">
<tt class="descname">delete</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.finish">
<tt class="descname">finish</tt><big>(</big><em>chunk=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes this response, ending the HTTP request.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.flush">
<tt class="descname">flush</tt><big>(</big><em>include_footers=False</em>, <em>callback=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the current output buffer to the network.</p>
<p>The <tt class="docutils literal"><span class="pre">callback</span></tt> argument, if given, can be used for flow control:
it will be run when all flushed data has been written to the socket.
Note that only one flush callback can be outstanding at a time;
if another flush occurs before the previous flush&#8217;s callback
has been run, the previous callback will be discarded.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get">
<tt class="descname">get</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_argument">
<tt class="descname">get_argument</tt><big>(</big><em>name</em>, <em>default=</em><span class="optional">[</span><span class="optional">]</span>, <em>strip=True</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the argument with the given name.</p>
<p>If default is not provided, the argument is considered to be
required, and we throw an HTTP 400 exception if it is missing.</p>
<p>If the argument appears in the url more than once, we return the
last value.</p>
<p>The returned value is always unicode.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_arguments">
<tt class="descname">get_arguments</tt><big>(</big><em>name</em>, <em>strip=True</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the arguments with the given name.</p>
<p>If the argument is not present, returns an empty list.</p>
<p>The returned values are always unicode.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_browser_locale">
<tt class="descname">get_browser_locale</tt><big>(</big><em>default='en_US'</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_browser_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the user&#8217;s locale from Accept-Language header.</p>
<p>See <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4</a></p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_cookie">
<tt class="descname">get_cookie</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the value of the cookie with the given name, else default.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_current_user">
<tt class="descname">get_current_user</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to determine the current user from, e.g., a cookie.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_login_url">
<tt class="descname">get_login_url</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_login_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize the login URL based on the request.</p>
<p>By default, we use the &#8216;login_url&#8217; application setting.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_secure_cookie">
<tt class="descname">get_secure_cookie</tt><big>(</big><em>name</em>, <em>value=None</em>, <em>max_age_days=31</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given signed cookie if it validates, or None.</p>
<p>The decoded cookie value is returned as a byte string (unlike
<cite>get_cookie</cite>).</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_status">
<tt class="descname">get_status</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status code for our response.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_template_path">
<tt class="descname">get_template_path</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_template_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize template path for each handler.</p>
<p>By default, we use the &#8216;template_path&#8217; application setting.
Return None to load templates relative to the calling file.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.get_user_locale">
<tt class="descname">get_user_locale</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.get_user_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to determine the locale from the authenticated user.</p>
<p>If None is returned, we fall back to get_browser_locale().</p>
<p>This method should return a tornado.locale.Locale object,
most likely obtained via a call like tornado.locale.get(&#8220;en&#8221;)</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.head">
<tt class="descname">head</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.initialize">
<tt class="descname">initialize</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook for subclass initialization.</p>
<p>A dictionary passed as the third argument of a url spec will be
supplied as keyword arguments to initialize().</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">ProfileHandler</span><span class="p">(</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">database</span>

    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="s">r&#39;/user/(.*)&#39;</span><span class="p">,</span> <span class="n">ProfileHandler</span><span class="p">,</span> <span class="nb">dict</span><span class="p">(</span><span class="n">database</span><span class="o">=</span><span class="n">database</span><span class="p">)),</span>
    <span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.RequestHandler.locale">
<tt class="descname">locale</tt><a class="headerlink" href="#src.tornado.web.RequestHandler.locale" title="Permalink to this definition">¶</a></dt>
<dd><p>The local for the current session.</p>
<p>Determined by either get_user_locale, which you can override to
set the locale based on, e.g., a user preference stored in a
database, or get_browser_locale, which uses the Accept-Language
header.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.on_connection_close">
<tt class="descname">on_connection_close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.on_connection_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Called in async handlers if the client closed the connection.</p>
<p>Override this to clean up resources associated with
long-lived connections.  Note that this method is called only if
the connection was closed during asynchronous processing; if you
need to do cleanup after every request override <cite>on_finish</cite>
instead.</p>
<p>Proxies may keep a connection open for a time (perhaps
indefinitely) after the client has gone away, so this method
may not be called promptly after the end user closes their
connection.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.on_finish">
<tt class="descname">on_finish</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.on_finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Called after the end of a request.</p>
<p>Override this method to perform cleanup, logging, etc.
This method is a counterpart to <cite>prepare</cite>.  <tt class="docutils literal"><span class="pre">on_finish</span></tt> may
not produce any output, as it is called after the response
has been sent to the client.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.options">
<tt class="descname">options</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.patch">
<tt class="descname">patch</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.post">
<tt class="descname">post</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.prepare">
<tt class="descname">prepare</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the beginning of a request before <cite>get</cite>/<cite>post</cite>/etc.</p>
<p>Override this method to perform common initialization regardless
of the request method.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.put">
<tt class="descname">put</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.redirect">
<tt class="descname">redirect</tt><big>(</big><em>url</em>, <em>permanent=False</em>, <em>status=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a redirect to the given (optionally relative) URL.</p>
<p>If the <tt class="docutils literal"><span class="pre">status</span></tt> argument is specified, that value is used as the
HTTP status code; otherwise either 301 (permanent) or 302
(temporary) is chosen based on the <tt class="docutils literal"><span class="pre">permanent</span></tt> argument.
The default is 302 (temporary).</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.render">
<tt class="descname">render</tt><big>(</big><em>template_name</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the template with the given arguments as the response.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.render_string">
<tt class="descname">render_string</tt><big>(</big><em>template_name</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.render_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the given template with the given arguments.</p>
<p>We return the generated string. To generate and write a template
as a response, use render() above.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.require_setting">
<tt class="descname">require_setting</tt><big>(</big><em>name</em>, <em>feature='this feature'</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.require_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an exception if the given app setting is not defined.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.reverse_url">
<tt class="descname">reverse_url</tt><big>(</big><em>name</em>, <em>*args</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.reverse_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>Application.reverse_url</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.send_error">
<tt class="descname">send_error</tt><big>(</big><em>status_code=500</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.send_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the given HTTP error code to the browser.</p>
<p>If <cite>flush()</cite> has already been called, it is not possible to send
an error, so this method will simply terminate the response.
If output has been written but not yet flushed, it will be discarded
and replaced with the error page.</p>
<p>Override <cite>write_error()</cite> to customize the error page that is returned.
Additional keyword arguments are passed through to <cite>write_error</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.set_cookie">
<tt class="descname">set_cookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>domain=None</em>, <em>expires=None</em>, <em>path='/'</em>, <em>expires_days=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the given cookie name/value with the given options.</p>
<p>Additional keyword arguments are set on the Cookie.Morsel
directly.
See <a class="reference external" href="http://docs.python.org/library/cookie.html#morsel-objects">http://docs.python.org/library/cookie.html#morsel-objects</a>
for available attributes.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.set_default_headers">
<tt class="descname">set_default_headers</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.set_default_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this to set HTTP headers at the beginning of the request.</p>
<p>For example, this is the place to set a custom <tt class="docutils literal"><span class="pre">Server</span></tt> header.
Note that setting such headers in the normal flow of request
processing may not do what you want, since headers may be reset
during error handling.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.set_header">
<tt class="descname">set_header</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.set_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the given response header name and value.</p>
<p>If a datetime is given, we automatically format it according to the
HTTP specification. If the value is not a string, we convert it to
a string. All header values are then encoded as UTF-8.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.set_secure_cookie">
<tt class="descname">set_secure_cookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>expires_days=30</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.set_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs and timestamps a cookie so it cannot be forged.</p>
<p>You must specify the <tt class="docutils literal"><span class="pre">cookie_secret</span></tt> setting in your Application
to use this method. It should be a long, random sequence of bytes
to be used as the HMAC secret for the signature.</p>
<p>To read a cookie set with this method, use <cite>get_secure_cookie()</cite>.</p>
<p>Note that the <tt class="docutils literal"><span class="pre">expires_days</span></tt> parameter sets the lifetime of the
cookie in the browser, but is independent of the <tt class="docutils literal"><span class="pre">max_age_days</span></tt>
parameter to <cite>get_secure_cookie</cite>.</p>
<p>Secure cookies may contain arbitrary byte values, not just unicode
strings (unlike regular cookies)</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.set_status">
<tt class="descname">set_status</tt><big>(</big><em>status_code</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.set_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the status code for our response.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.RequestHandler.settings">
<tt class="descname">settings</tt><a class="headerlink" href="#src.tornado.web.RequestHandler.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for <cite>self.application.settings</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.static_url">
<tt class="descname">static_url</tt><big>(</big><em>path</em>, <em>include_host=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.static_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a static URL for the given relative static file path.</p>
<p>This method requires you set the &#8216;static_path&#8217; setting in your
application (which specifies the root directory of your static
files).</p>
<p>We append ?v=&lt;signature&gt; to the returned URL, which makes our
static file handler set an infinite expiration header on the
returned content. The signature is based on the content of the
file.</p>
<p>By default this method returns URLs relative to the current
host, but if <tt class="docutils literal"><span class="pre">include_host</span></tt> is true the URL returned will be
absolute.  If this handler has an <tt class="docutils literal"><span class="pre">include_host</span></tt> attribute,
that value will be used as the default for all <cite>static_url</cite>
calls that do not pass <tt class="docutils literal"><span class="pre">include_host</span></tt> as a keyword argument.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.write">
<tt class="descname">write</tt><big>(</big><em>chunk</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given chunk to the output buffer.</p>
<p>To write the output to the network, use the flush() method below.</p>
<p>If the given chunk is a dictionary, we write it as JSON and set
the Content-Type of the response to be application/json.
(if you want to send JSON as a different Content-Type, call
set_header <em>after</em> calling write()).</p>
<p>Note that lists are not converted to JSON because of a potential
cross-site security vulnerability.  All JSON output should be
wrapped in a dictionary.  More details at
<a class="reference external" href="http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx">http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx</a></p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.write_error">
<tt class="descname">write_error</tt><big>(</big><em>status_code</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.write_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to implement custom error pages.</p>
<p><tt class="docutils literal"><span class="pre">write_error</span></tt> may call <cite>write</cite>, <cite>render</cite>, <cite>set_header</cite>, etc
to produce output as usual.</p>
<p>If this error was caused by an uncaught exception, an <tt class="docutils literal"><span class="pre">exc_info</span></tt>
triple will be available as <tt class="docutils literal"><span class="pre">kwargs[&quot;exc_info&quot;]</span></tt>.  Note that this
exception may not be the &#8220;current&#8221; exception for purposes of
methods like <tt class="docutils literal"><span class="pre">sys.exc_info()</span></tt> or <tt class="docutils literal"><span class="pre">traceback.format_exc</span></tt>.</p>
<p>For historical reasons, if a method <tt class="docutils literal"><span class="pre">get_error_html</span></tt> exists,
it will be used instead of the default <tt class="docutils literal"><span class="pre">write_error</span></tt> implementation.
<tt class="docutils literal"><span class="pre">get_error_html</span></tt> returned a string instead of producing output
normally, and had different semantics for exception handling.
Users of <tt class="docutils literal"><span class="pre">get_error_html</span></tt> are encouraged to convert their code
to override <tt class="docutils literal"><span class="pre">write_error</span></tt> instead.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.RequestHandler.xsrf_form_html">
<tt class="descname">xsrf_form_html</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.RequestHandler.xsrf_form_html" title="Permalink to this definition">¶</a></dt>
<dd><p>An HTML &lt;input/&gt; element to be included with all POST forms.</p>
<p>It defines the _xsrf input value, which we check on all POST
requests to prevent cross-site request forgery. If you have set
the &#8216;xsrf_cookies&#8217; application setting, you must include this
HTML within all of your HTML forms.</p>
<p>See check_xsrf_cookie() above for more information.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.RequestHandler.xsrf_token">
<tt class="descname">xsrf_token</tt><a class="headerlink" href="#src.tornado.web.RequestHandler.xsrf_token" title="Permalink to this definition">¶</a></dt>
<dd><p>The XSRF-prevention token for the current user/session.</p>
<p>To prevent cross-site request forgery, we set an &#8216;_xsrf&#8217; cookie
and include the same &#8216;_xsrf&#8217; value as an argument with all POST
requests. If the two do not match, we reject the form submission
as a potential forgery.</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">http://en.wikipedia.org/wiki/Cross-site_request_forgery</a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.StaticFileHandler">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">StaticFileHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.RequestHandler" title="src.tornado.web.RequestHandler"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.RequestHandler</span></tt></a></p>
<p>A simple handler that can serve static content from a directory.</p>
<p>To map a path to this handler for a static data directory /var/www,
you would add a line to your application like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">application</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">Application</span><span class="p">([</span>
    <span class="p">(</span><span class="s">r&quot;/static/(.*)&quot;</span><span class="p">,</span> <span class="n">web</span><span class="o">.</span><span class="n">StaticFileHandler</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;path&quot;</span><span class="p">:</span> <span class="s">&quot;/var/www&quot;</span><span class="p">}),</span>
<span class="p">])</span>
</pre></div>
</div>
<p>The local root directory of the content should be passed as the &#8220;path&#8221;
argument to the handler.</p>
<p>To support aggressive browser caching, if the argument &#8220;v&#8221; is given
with the path, we set an infinite HTTP expiration header. So, if you
want browsers to cache a file indefinitely, send them to, e.g.,
/static/images/myimage.png?v=xxx. Override <tt class="docutils literal"><span class="pre">get_cache_time</span></tt> method for
more fine-grained cache control.</p>
<dl class="attribute">
<dt id="src.tornado.web.StaticFileHandler.CACHE_MAX_AGE">
<tt class="descname">CACHE_MAX_AGE</tt><em class="property"> = 315360000</em><a class="headerlink" href="#src.tornado.web.StaticFileHandler.CACHE_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.StaticFileHandler.get">
<tt class="descname">get</tt><big>(</big><em>path</em>, <em>include_body=True</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.StaticFileHandler.get_cache_time">
<tt class="descname">get_cache_time</tt><big>(</big><em>path</em>, <em>modified</em>, <em>mime_type</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.get_cache_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize cache control behavior.</p>
<p>Return a positive number of seconds to trigger aggressive caching or 0
to mark resource as cacheable, only.</p>
<p>By default returns cache expiry of 10 years for resources requested
with &#8220;v&#8221; argument.</p>
</dd></dl>

<dl class="classmethod">
<dt id="src.tornado.web.StaticFileHandler.get_version">
<em class="property">classmethod </em><tt class="descname">get_version</tt><big>(</big><em>settings</em>, <em>path</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.get_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the version string to be used in static URLs.</p>
<p>This method may be overridden in subclasses (but note that it
is a class method rather than a static method).  The default
implementation uses a hash of the file&#8217;s contents.</p>
<p><tt class="docutils literal"><span class="pre">settings</span></tt> is the <cite>Application.settings</cite> dictionary and <tt class="docutils literal"><span class="pre">path</span></tt>
is the relative location of the requested asset on the filesystem.
The returned value should be a string, or <tt class="docutils literal"><span class="pre">None</span></tt> if no version
could be determined.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.StaticFileHandler.head">
<tt class="descname">head</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.StaticFileHandler.initialize">
<tt class="descname">initialize</tt><big>(</big><em>path</em>, <em>default_filename=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="src.tornado.web.StaticFileHandler.make_static_url">
<em class="property">classmethod </em><tt class="descname">make_static_url</tt><big>(</big><em>settings</em>, <em>path</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.make_static_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a versioned url for the given path.</p>
<p>This method may be overridden in subclasses (but note that it is
a class method rather than an instance method).</p>
<p><tt class="docutils literal"><span class="pre">settings</span></tt> is the <cite>Application.settings</cite> dictionary.  <tt class="docutils literal"><span class="pre">path</span></tt>
is the static path being requested.  The url returned should be
relative to the current host.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.StaticFileHandler.parse_url_path">
<tt class="descname">parse_url_path</tt><big>(</big><em>url_path</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.parse_url_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a static URL path into a filesystem path.</p>
<p><tt class="docutils literal"><span class="pre">url_path</span></tt> is the path component of the URL with
<tt class="docutils literal"><span class="pre">static_url_prefix</span></tt> removed.  The return value should be
filesystem path relative to <tt class="docutils literal"><span class="pre">static_path</span></tt>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="src.tornado.web.StaticFileHandler.reset">
<em class="property">classmethod </em><tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.StaticFileHandler.set_extra_headers">
<tt class="descname">set_extra_headers</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#src.tornado.web.StaticFileHandler.set_extra_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>For subclass to add extra headers to the response</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.TemplateModule">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">TemplateModule</tt><big>(</big><em>handler</em><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.web.UIModule" title="src.tornado.web.UIModule"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.web.UIModule</span></tt></a></p>
<p>UIModule that simply renders the given template.</p>
<p>{% module Template(&#8220;foo.html&#8221;) %} is similar to {% include &#8220;foo.html&#8221; %},
but the module version gets its own namespace (with kwargs passed to
Template()) instead of inheriting the outer template&#8217;s namespace.</p>
<p>Templates rendered through this module also get access to UIModule&#8217;s
automatic javascript/css features.  Simply call set_resources
inside the template and give it keyword arguments corresponding to
the methods on UIModule: {{ set_resources(js_files=static_url(&#8220;my.js&#8221;)) }}
Note that these resources are output once per template file, not once
per instantiation of the template, so they must not depend on
any arguments to the template.</p>
<dl class="method">
<dt id="src.tornado.web.TemplateModule.css_files">
<tt class="descname">css_files</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.css_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.TemplateModule.embedded_css">
<tt class="descname">embedded_css</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.embedded_css" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.TemplateModule.embedded_javascript">
<tt class="descname">embedded_javascript</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.embedded_javascript" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.TemplateModule.html_body">
<tt class="descname">html_body</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.html_body" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.TemplateModule.html_head">
<tt class="descname">html_head</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.html_head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.TemplateModule.javascript_files">
<tt class="descname">javascript_files</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.javascript_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.web.TemplateModule.render">
<tt class="descname">render</tt><big>(</big><em>path</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.TemplateModule.render" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.UIModule">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">UIModule</tt><big>(</big><em>handler</em><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A UI re-usable, modular unit on a page.</p>
<p>UI modules often execute additional queries, and they can include
additional CSS and JavaScript that will be included in the output
page, which is automatically inserted on page render.</p>
<dl class="method">
<dt id="src.tornado.web.UIModule.css_files">
<tt class="descname">css_files</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.css_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of CSS files required by this module.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.embedded_css">
<tt class="descname">embedded_css</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.embedded_css" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a CSS string that will be embedded in the page.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.embedded_javascript">
<tt class="descname">embedded_javascript</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.embedded_javascript" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JavaScript string that will be embedded in the page.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.html_body">
<tt class="descname">html_body</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.html_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an HTML string that will be put in the &lt;body/&gt; element</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.html_head">
<tt class="descname">html_head</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.html_head" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a CSS string that will be put in the &lt;head/&gt; element</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.javascript_files">
<tt class="descname">javascript_files</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.javascript_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of JavaScript files required by this module.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.render">
<tt class="descname">render</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Overridden in subclasses to return this module&#8217;s output.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.web.UIModule.render_string">
<tt class="descname">render_string</tt><big>(</big><em>path</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.web.UIModule.render_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template and returns it as a string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.web.URLSpec">
<em class="property">class </em><tt class="descclassname">src.tornado.web.</tt><tt class="descname">URLSpec</tt><big>(</big><em>pattern</em>, <em>handler_class</em>, <em>kwargs=None</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#src.tornado.web.URLSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Specifies mappings between URLs and handlers.</p>
<dl class="method">
<dt id="src.tornado.web.URLSpec.reverse">
<tt class="descname">reverse</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#src.tornado.web.URLSpec.reverse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="src.tornado.web.addslash">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">addslash</tt><big>(</big><em>method</em><big>)</big><a class="headerlink" href="#src.tornado.web.addslash" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this decorator to add a missing trailing slash to the request path.</p>
<p>For example, a request to &#8216;/foo&#8217; would redirect to &#8216;/foo/&#8217; with this
decorator. Your request handler mapping should use a regular expression
like r&#8217;/foo/?&#8217; in conjunction with using the decorator.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.web.asynchronous">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">asynchronous</tt><big>(</big><em>method</em><big>)</big><a class="headerlink" href="#src.tornado.web.asynchronous" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap request handler methods with this if they are asynchronous.</p>
<p>If this decorator is given, the response is not finished when the
method returns. It is up to the request handler to call self.finish()
to finish the HTTP request. Without this decorator, the request is
automatically finished when the get() or post() method returns.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyRequestHandler</span><span class="p">(</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="nd">@web.asynchronous</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">http</span> <span class="o">=</span> <span class="n">httpclient</span><span class="o">.</span><span class="n">AsyncHTTPClient</span><span class="p">()</span>
       <span class="n">http</span><span class="o">.</span><span class="n">fetch</span><span class="p">(</span><span class="s">&quot;http://friendfeed.com/&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_on_download</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_on_download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Downloaded!&quot;</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">finish</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="src.tornado.web.authenticated">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">authenticated</tt><big>(</big><em>method</em><big>)</big><a class="headerlink" href="#src.tornado.web.authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate methods with this to require that the user be logged in.</p>
</dd></dl>

<dl class="function">
<dt id="src.tornado.web.create_signed_value">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">create_signed_value</tt><big>(</big><em>secret</em>, <em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#src.tornado.web.create_signed_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="src.tornado.web.decode_signed_value">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">decode_signed_value</tt><big>(</big><em>secret</em>, <em>name</em>, <em>value</em>, <em>max_age_days=31</em><big>)</big><a class="headerlink" href="#src.tornado.web.decode_signed_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="src.tornado.web.removeslash">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">removeslash</tt><big>(</big><em>method</em><big>)</big><a class="headerlink" href="#src.tornado.web.removeslash" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this decorator to remove trailing slashes from the request path.</p>
<p>For example, a request to <tt class="docutils literal"><span class="pre">'/foo/'</span></tt> would redirect to <tt class="docutils literal"><span class="pre">'/foo'</span></tt> with this
decorator. Your request handler mapping should use a regular expression
like <tt class="docutils literal"><span class="pre">r'/foo/*'</span></tt> in conjunction with using the decorator.</p>
</dd></dl>

<dl class="attribute">
<dt id="src.tornado.web.url">
<tt class="descclassname">src.tornado.web.</tt><tt class="descname">url</tt><a class="headerlink" href="#src.tornado.web.url" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#src.tornado.web.URLSpec" title="src.tornado.web.URLSpec"><tt class="xref py py-class docutils literal"><span class="pre">URLSpec</span></tt></a></p>
</dd></dl>

</div>
</div>
<div class="section" id="module-src.tornado.websocket">
<span id="websocket-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">websocket</span></tt> Module<a class="headerlink" href="#module-src.tornado.websocket" title="Permalink to this headline">¶</a></h2>
<p>Server-side implementation of the WebSocket protocol.</p>
<p><a class="reference external" href="http://dev.w3.org/html5/websockets/">WebSockets</a> allow for bidirectional
communication between the browser and server.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The WebSocket protocol was recently finalized as <a class="reference external" href="http://tools.ietf.org/html/rfc6455">RFC 6455</a> and is not yet supported in
all browsers.  Refer to <a class="reference external" href="http://caniuse.com/websockets">http://caniuse.com/websockets</a> for details
on compatibility.  In addition, during development the protocol
went through several incompatible versions, and some browsers only
support older versions.  By default this module only supports the
latest version of the protocol, but optional support for an older
version (known as &#8220;draft 76&#8221; or &#8220;hixie-76&#8221;) can be enabled by
overriding <cite>WebSocketHandler.allow_draft76</cite> (see that method&#8217;s
documentation for caveats).</p>
</div>
<dl class="class">
<dt id="src.tornado.websocket.WebSocketHandler">
<em class="property">class </em><tt class="descclassname">src.tornado.websocket.</tt><tt class="descname">WebSocketHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.web.RequestHandler</span></tt></p>
<p>Subclass this class to create a basic WebSocket handler.</p>
<p>Override on_message to handle incoming messages. You can also override
open and on_close to handle opened and closed connections.</p>
<p>See <a class="reference external" href="http://dev.w3.org/html5/websockets/">http://dev.w3.org/html5/websockets/</a> for details on the
JavaScript interface.  The protocol is specified at
<a class="reference external" href="http://tools.ietf.org/html/rfc6455">http://tools.ietf.org/html/rfc6455</a>.</p>
<p>Here is an example Web Socket handler that echos back all received messages
back to the client:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">EchoWebSocket</span><span class="p">(</span><span class="n">websocket</span><span class="o">.</span><span class="n">WebSocketHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;WebSocket opened&quot;</span>

    <span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_message</span><span class="p">(</span><span class="s">u&quot;You said: &quot;</span> <span class="o">+</span> <span class="n">message</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">on_close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&quot;WebSocket closed&quot;</span>
</pre></div>
</div>
<p>Web Sockets are not standard HTTP connections. The &#8220;handshake&#8221; is HTTP,
but after the handshake, the protocol is message-based. Consequently,
most of the Tornado HTTP facilities are not available in handlers of this
type. The only communication methods available to you are write_message()
and close(). Likewise, your request handler class should
implement open() method rather than get() or post().</p>
<p>If you map the handler above to &#8220;/websocket&#8221; in your application, you can
invoke it in JavaScript with:</p>
<div class="highlight-python"><pre>var ws = new WebSocket("ws://localhost:8888/websocket");
ws.onopen = function() {
   ws.send("Hello, world");
};
ws.onmessage = function (evt) {
   alert(evt.data);
};</pre>
</div>
<p>This script pops up an alert box that says &#8220;You said: Hello, world&#8221;.</p>
<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.allow_draft76">
<tt class="descname">allow_draft76</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.allow_draft76" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to enable support for the older &#8220;draft76&#8221; protocol.</p>
<p>The draft76 version of the websocket protocol is disabled by
default due to security concerns, but it can be enabled by
overriding this method to return True.</p>
<p>Connections using the draft76 protocol do not support the
<tt class="docutils literal"><span class="pre">binary=True</span></tt> flag to <cite>write_message</cite>.</p>
<p>Support for the draft76 protocol is deprecated and will be
removed in a future version of Tornado.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.async_callback">
<tt class="descname">async_callback</tt><big>(</big><em>callback</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.async_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap callbacks with this if they are used on asynchronous requests.</p>
<p>Catches exceptions properly and closes this WebSocket if an exception
is uncaught.  (Note that this is usually unnecessary thanks to
<cite>tornado.stack_context</cite>)</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes this Web Socket.</p>
<p>Once the close handshake is successful the socket will be closed.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.finish">
<tt class="descname">finish</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.finish" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.flush">
<tt class="descname">flush</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.get_websocket_scheme">
<tt class="descname">get_websocket_scheme</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.get_websocket_scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the url scheme used for this request, either &#8220;ws&#8221; or &#8220;wss&#8221;.</p>
<p>This is normally decided by HTTPServer, but applications
may wish to override this if they are using an SSL proxy
that does not provide the X-Scheme header as understood
by HTTPServer.</p>
<p>Note that this is only used by the draft76 protocol.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.on_close">
<tt class="descname">on_close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.on_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked when the WebSocket is closed.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.on_connection_close">
<tt class="descname">on_connection_close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.on_connection_close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.on_message">
<tt class="descname">on_message</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle incoming messages on the WebSocket</p>
<p>This method must be overridden.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.open">
<tt class="descname">open</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked when a new WebSocket is opened.</p>
<p>The arguments to <cite>open</cite> are extracted from the <cite>tornado.web.URLSpec</cite>
regular expression, just like the arguments to
<cite>tornado.web.RequestHandler.get</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.redirect">
<tt class="descname">redirect</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.redirect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.select_subprotocol">
<tt class="descname">select_subprotocol</tt><big>(</big><em>subprotocols</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.select_subprotocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoked when a new WebSocket requests specific subprotocols.</p>
<p><tt class="docutils literal"><span class="pre">subprotocols</span></tt> is a list of strings identifying the
subprotocols proposed by the client.  This method may be
overridden to return one of those strings to select it, or
<tt class="docutils literal"><span class="pre">None</span></tt> to not select a subprotocol.  Failure to select a
subprotocol does not automatically abort the connection,
although clients may close the connection if none of their
proposed subprotocols was selected.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.send_error">
<tt class="descname">send_error</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.send_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.set_cookie">
<tt class="descname">set_cookie</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.set_header">
<tt class="descname">set_header</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.set_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.set_status">
<tt class="descname">set_status</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.set_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.write">
<tt class="descname">write</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketHandler.write_message">
<tt class="descname">write_message</tt><big>(</big><em>message</em>, <em>binary=False</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketHandler.write_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the given message to the client of this Web Socket.</p>
<p>The message may be either a string or a dict (which will be
encoded as json).  If the <tt class="docutils literal"><span class="pre">binary</span></tt> argument is false, the
message will be sent as utf8; in binary mode any byte string
is allowed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.websocket.WebSocketProtocol">
<em class="property">class </em><tt class="descclassname">src.tornado.websocket.</tt><tt class="descname">WebSocketProtocol</tt><big>(</big><em>handler</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for WebSocket protocol versions.</p>
<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol.async_callback">
<tt class="descname">async_callback</tt><big>(</big><em>callback</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol.async_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap callbacks with this if they are used on asynchronous requests.</p>
<p>Catches exceptions properly and closes this WebSocket if an exception
is uncaught.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol.on_connection_close">
<tt class="descname">on_connection_close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol.on_connection_close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.websocket.WebSocketProtocol13">
<em class="property">class </em><tt class="descclassname">src.tornado.websocket.</tt><tt class="descname">WebSocketProtocol13</tt><big>(</big><em>handler</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol13" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.websocket.WebSocketProtocol" title="src.tornado.websocket.WebSocketProtocol"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.websocket.WebSocketProtocol</span></tt></a></p>
<p>Implementation of the WebSocket protocol from RFC 6455.</p>
<p>This class supports versions 7 and 8 of the protocol in addition to the
final version 13.</p>
<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol13.accept_connection">
<tt class="descname">accept_connection</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol13.accept_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol13.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol13.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the WebSocket connection.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol13.write_message">
<tt class="descname">write_message</tt><big>(</big><em>message</em>, <em>binary=False</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol13.write_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the given message to the client of this Web Socket.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.websocket.WebSocketProtocol76">
<em class="property">class </em><tt class="descclassname">src.tornado.websocket.</tt><tt class="descname">WebSocketProtocol76</tt><big>(</big><em>handler</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol76" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#src.tornado.websocket.WebSocketProtocol" title="src.tornado.websocket.WebSocketProtocol"><tt class="xref py py-class docutils literal"><span class="pre">src.tornado.websocket.WebSocketProtocol</span></tt></a></p>
<p>Implementation of the WebSockets protocol, version hixie-76.</p>
<p>This class provides basic functionality to process WebSockets requests as
specified in
<a class="reference external" href="http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-76">http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-76</a></p>
<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol76.accept_connection">
<tt class="descname">accept_connection</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol76.accept_connection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol76.challenge_response">
<tt class="descname">challenge_response</tt><big>(</big><em>challenge</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol76.challenge_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the challenge response that&#8217;s needed in the handshake</p>
<p>The challenge parameter should be the raw bytes as sent from the
client.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol76.close">
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol76.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the WebSocket connection.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.websocket.WebSocketProtocol76.write_message">
<tt class="descname">write_message</tt><big>(</big><em>message</em>, <em>binary=False</em><big>)</big><a class="headerlink" href="#src.tornado.websocket.WebSocketProtocol76.write_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the given message to the client of this Web Socket.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-src.tornado.wsgi">
<span id="wsgi-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">wsgi</span></tt> Module<a class="headerlink" href="#module-src.tornado.wsgi" title="Permalink to this headline">¶</a></h2>
<p>WSGI support for the Tornado web framework.</p>
<p>WSGI is the Python standard for web servers, and allows for interoperability
between Tornado and other Python web frameworks and servers.  This module
provides WSGI support in two ways:</p>
<ul class="simple">
<li><cite>WSGIApplication</cite> is a version of <cite>tornado.web.Application</cite> that can run
inside a WSGI server.  This is useful for running a Tornado app on another
HTTP server, such as Google App Engine.  See the <cite>WSGIApplication</cite> class
documentation for limitations that apply.</li>
<li><cite>WSGIContainer</cite> lets you run other WSGI applications and frameworks on the
Tornado HTTP server.  For example, with this class you can mix Django
and Tornado handlers in a single server.</li>
</ul>
<dl class="class">
<dt id="src.tornado.wsgi.HTTPRequest">
<em class="property">class </em><tt class="descclassname">src.tornado.wsgi.</tt><tt class="descname">HTTPRequest</tt><big>(</big><em>environ</em><big>)</big><a class="headerlink" href="#src.tornado.wsgi.HTTPRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Mimics <cite>tornado.httpserver.HTTPRequest</cite> for WSGI applications.</p>
<dl class="attribute">
<dt id="src.tornado.wsgi.HTTPRequest.cookies">
<tt class="descname">cookies</tt><a class="headerlink" href="#src.tornado.wsgi.HTTPRequest.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of Cookie.Morsel objects.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.wsgi.HTTPRequest.full_url">
<tt class="descname">full_url</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.wsgi.HTTPRequest.full_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstructs the full URL for this request.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.wsgi.HTTPRequest.request_time">
<tt class="descname">request_time</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.wsgi.HTTPRequest.request_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the amount of time it took for this request to execute.</p>
</dd></dl>

<dl class="method">
<dt id="src.tornado.wsgi.HTTPRequest.supports_http_1_1">
<tt class="descname">supports_http_1_1</tt><big>(</big><big>)</big><a class="headerlink" href="#src.tornado.wsgi.HTTPRequest.supports_http_1_1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this request supports HTTP/1.1 semantics</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="src.tornado.wsgi.WSGIApplication">
<em class="property">class </em><tt class="descclassname">src.tornado.wsgi.</tt><tt class="descname">WSGIApplication</tt><big>(</big><em>handlers=None</em>, <em>default_host=''</em>, <em>**settings</em><big>)</big><a class="headerlink" href="#src.tornado.wsgi.WSGIApplication" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">tornado.web.Application</span></tt></p>
<p>A WSGI equivalent of <cite>tornado.web.Application</cite>.</p>
<p>WSGIApplication is very similar to web.Application, except no
asynchronous methods are supported (since WSGI does not support
non-blocking requests properly). If you call self.flush() or other
asynchronous methods in your request handlers running in a
WSGIApplication, we throw an exception.</p>
<p>Example usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">tornado.web</span>
<span class="kn">import</span> <span class="nn">tornado.wsgi</span>
<span class="kn">import</span> <span class="nn">wsgiref.simple_server</span>

<span class="k">class</span> <span class="nc">MainHandler</span><span class="p">(</span><span class="n">tornado</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">RequestHandler</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">application</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">wsgi</span><span class="o">.</span><span class="n">WSGIApplication</span><span class="p">([</span>
        <span class="p">(</span><span class="s">r&quot;/&quot;</span><span class="p">,</span> <span class="n">MainHandler</span><span class="p">),</span>
    <span class="p">])</span>
    <span class="n">server</span> <span class="o">=</span> <span class="n">wsgiref</span><span class="o">.</span><span class="n">simple_server</span><span class="o">.</span><span class="n">make_server</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="mi">8888</span><span class="p">,</span> <span class="n">application</span><span class="p">)</span>
    <span class="n">server</span><span class="o">.</span><span class="n">serve_forever</span><span class="p">()</span>
</pre></div>
</div>
<p>See the &#8216;appengine&#8217; demo for an example of using this module to run
a Tornado app on Google AppEngine.</p>
<p>Since no asynchronous methods are available for WSGI applications, the
httpclient and auth modules are both not available for WSGI applications.
We support the same interface, but handlers running in a WSGIApplication
do not support flush() or asynchronous methods.</p>
</dd></dl>

<dl class="class">
<dt id="src.tornado.wsgi.WSGIContainer">
<em class="property">class </em><tt class="descclassname">src.tornado.wsgi.</tt><tt class="descname">WSGIContainer</tt><big>(</big><em>wsgi_application</em><big>)</big><a class="headerlink" href="#src.tornado.wsgi.WSGIContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Makes a WSGI-compatible function runnable on Tornado&#8217;s HTTP server.</p>
<p>Wrap a WSGI function in a WSGIContainer and pass it to HTTPServer to
run it. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">simple_app</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">status</span> <span class="o">=</span> <span class="s">&quot;200 OK&quot;</span>
    <span class="n">response_headers</span> <span class="o">=</span> <span class="p">[(</span><span class="s">&quot;Content-type&quot;</span><span class="p">,</span> <span class="s">&quot;text/plain&quot;</span><span class="p">)]</span>
    <span class="n">start_response</span><span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">response_headers</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">[</span><span class="s">&quot;Hello world!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">]</span>

<span class="n">container</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">wsgi</span><span class="o">.</span><span class="n">WSGIContainer</span><span class="p">(</span><span class="n">simple_app</span><span class="p">)</span>
<span class="n">http_server</span> <span class="o">=</span> <span class="n">tornado</span><span class="o">.</span><span class="n">httpserver</span><span class="o">.</span><span class="n">HTTPServer</span><span class="p">(</span><span class="n">container</span><span class="p">)</span>
<span class="n">http_server</span><span class="o">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">8888</span><span class="p">)</span>
<span class="n">tornado</span><span class="o">.</span><span class="n">ioloop</span><span class="o">.</span><span class="n">IOLoop</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>
</div>
<p>This class is intended to let other frameworks (Django, web.py, etc)
run on the Tornado HTTP server and I/O loop.</p>
<p>The <cite>tornado.web.FallbackHandler</cite> class is often useful for mixing
Tornado and WSGI apps in the same server.  See
<a class="reference external" href="https://github.com/bdarnell/django-tornado-demo">https://github.com/bdarnell/django-tornado-demo</a> for a complete example.</p>
<dl class="staticmethod">
<dt id="src.tornado.wsgi.WSGIContainer.environ">
<em class="property">static </em><tt class="descname">environ</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#src.tornado.wsgi.WSGIContainer.environ" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a <cite>tornado.httpserver.HTTPRequest</cite> to a WSGI environment.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src.tornado.platform.html">platform Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.platform.html#module-src.tornado.platform.auto"><tt class="docutils literal"><span class="pre">auto</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.platform.html#module-src.tornado.platform.common"><tt class="docutils literal"><span class="pre">common</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.platform.html#module-src.tornado.platform.interface"><tt class="docutils literal"><span class="pre">interface</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.platform.html#module-src.tornado.platform.posix"><tt class="docutils literal"><span class="pre">posix</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.platform.html#module-src.tornado.platform.twisted"><tt class="docutils literal"><span class="pre">twisted</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.platform.html#windows-module"><tt class="docutils literal"><span class="pre">windows</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="src.tornado.test.html">test Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.auth_test"><tt class="docutils literal"><span class="pre">auth_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.curl_httpclient_test"><tt class="docutils literal"><span class="pre">curl_httpclient_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.escape_test"><tt class="docutils literal"><span class="pre">escape_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.gen_test"><tt class="docutils literal"><span class="pre">gen_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.httpclient_test"><tt class="docutils literal"><span class="pre">httpclient_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.httpserver_test"><tt class="docutils literal"><span class="pre">httpserver_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.httputil_test"><tt class="docutils literal"><span class="pre">httputil_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.import_test"><tt class="docutils literal"><span class="pre">import_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.ioloop_test"><tt class="docutils literal"><span class="pre">ioloop_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.iostream_test"><tt class="docutils literal"><span class="pre">iostream_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.options_test"><tt class="docutils literal"><span class="pre">options_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.process_test"><tt class="docutils literal"><span class="pre">process_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.run_pyversion_tests"><tt class="docutils literal"><span class="pre">run_pyversion_tests</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.runtests"><tt class="docutils literal"><span class="pre">runtests</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.simple_httpclient_test"><tt class="docutils literal"><span class="pre">simple_httpclient_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.stack_context_test"><tt class="docutils literal"><span class="pre">stack_context_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.template_test"><tt class="docutils literal"><span class="pre">template_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.testing_test"><tt class="docutils literal"><span class="pre">testing_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.twisted_test"><tt class="docutils literal"><span class="pre">twisted_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.util_test"><tt class="docutils literal"><span class="pre">util_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.web_test"><tt class="docutils literal"><span class="pre">web_test</span></tt> Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="src.tornado.test.html#module-src.tornado.test.wsgi_test"><tt class="docutils literal"><span class="pre">wsgi_test</span></tt> Module</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">tornado Package</a><ul>
<li><a class="reference internal" href="#id1"><tt class="docutils literal"><span class="pre">tornado</span></tt> Package</a></li>
<li><a class="reference internal" href="#module-src.tornado.auth"><tt class="docutils literal"><span class="pre">auth</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.autoreload"><tt class="docutils literal"><span class="pre">autoreload</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.curl_httpclient"><tt class="docutils literal"><span class="pre">curl_httpclient</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.database"><tt class="docutils literal"><span class="pre">database</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.escape"><tt class="docutils literal"><span class="pre">escape</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.gen"><tt class="docutils literal"><span class="pre">gen</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.httpclient"><tt class="docutils literal"><span class="pre">httpclient</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.httpserver"><tt class="docutils literal"><span class="pre">httpserver</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.httputil"><tt class="docutils literal"><span class="pre">httputil</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.ioloop"><tt class="docutils literal"><span class="pre">ioloop</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.iostream"><tt class="docutils literal"><span class="pre">iostream</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.locale"><tt class="docutils literal"><span class="pre">locale</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.netutil"><tt class="docutils literal"><span class="pre">netutil</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.options"><tt class="docutils literal"><span class="pre">options</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.process"><tt class="docutils literal"><span class="pre">process</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.simple_httpclient"><tt class="docutils literal"><span class="pre">simple_httpclient</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.stack_context"><tt class="docutils literal"><span class="pre">stack_context</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.template"><tt class="docutils literal"><span class="pre">template</span></tt> Module</a><ul>
<li><a class="reference internal" href="#syntax-reference">Syntax Reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.tornado.testing"><tt class="docutils literal"><span class="pre">testing</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.util"><tt class="docutils literal"><span class="pre">util</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.web"><tt class="docutils literal"><span class="pre">web</span></tt> Module</a><ul>
<li><a class="reference internal" href="#thread-safety-notes">Thread-safety notes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-src.tornado.websocket"><tt class="docutils literal"><span class="pre">websocket</span></tt> Module</a></li>
<li><a class="reference internal" href="#module-src.tornado.wsgi"><tt class="docutils literal"><span class="pre">wsgi</span></tt> Module</a></li>
<li><a class="reference internal" href="#subpackages">Subpackages</a><ul>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/src.tornado.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">open_edx_class_export 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Andreas Paepcke.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>